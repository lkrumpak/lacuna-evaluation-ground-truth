/** (github.com/dynamic-deadfunction-detector)
* Instrumentation log function used by the instrumenter
* note that the data object is already stringified.
*/
var logHistory = [];
function instrumentation_log(data) {
    
                function exists(e) { return e.file == jData.file && e.range[0] == jData.range[0] && e.range[1] == jData.range[1]; }
                var jData = JSON.parse(data);
                if (logHistory.some(exists)){ return; }
                logHistory.push(jData);
    fetch("http://127.0.0.1:8004/alivefunction", {
                method: "POST",
                headers: { "Accept": "application/json", "Content-Type": "application/json" },
                body: data
            }).then((response) => { });
}


// Generated by CoffeeScript 1.6.3
(function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[47,4785],"range":[36,4785],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":31,"label":"serenadejs"}');
  var App, AppController, Todo, TodoController, app, router, _ref, _ref1,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) {instrumentation_log('{"type":"FunctionExpression","bodyRange":[198,449],"range":[174,449],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":1,"label":"serenadejs"}'); for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() {instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[303,332],"range":[287,332],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":0,"label":"serenadejs"}'); this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  Todo = (function(_super) {instrumentation_log('{"type":"FunctionExpression","bodyRange":[479,1107],"range":[462,1107],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":6,"label":"serenadejs"}');
    __extends(Todo, _super);

    function Todo() {instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[531,621],"range":[515,621],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":2,"label":"serenadejs"}');
      _ref = Todo.__super__.constructor.apply(this, arguments);
      return _ref;
    }

    Todo.belongsTo('app', {
      inverseOf: 'all',
      as: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[696,725],"range":[685,725],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":3,"label":"serenadejs"}');
        return App;
      }
    });

    Todo.property('title', {
      serialize: true
    });

    Todo.property('completed', {
      serialize: true
    });

    Todo.property('incomplete', {
      get: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[915,956],"range":[904,956],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":4,"label":"serenadejs"}');
        return !this.completed;
      }
    });

    Todo.property('edit');

    Todo.prototype.remove = function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[1033,1083],"range":[1022,1083],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":5,"label":"serenadejs"}');
      return this.app.all["delete"](this);
    };

    return Todo;

  })(Serenade.Model);

  App = (function(_super) {instrumentation_log('{"type":"FunctionExpression","bodyRange":[1153,2781],"range":[1136,2781],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":16,"label":"serenadejs"}');
    __extends(App, _super);

    function App() {instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1203,1294],"range":[1188,1294],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":7,"label":"serenadejs"}');
      _ref1 = App.__super__.constructor.apply(this, arguments);
      return _ref1;
    }

    App.hasMany('all', {
      inverseOf: 'app',
      serialize: true,
      as: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[1389,1419],"range":[1378,1419],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":8,"label":"serenadejs"}');
        return Todo;
      }
    });

    App.selection('active', {
      from: 'all',
      filter: 'incomplete'
    });

    App.selection('completed', {
      from: 'all',
      filter: 'completed'
    });

    App.property('label', {
      get: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[1651,1786],"range":[1640,1786],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":9,"label":"serenadejs"}');
        if (this.activeCount === 1) {
          return 'item left';
        } else {
          return 'items left';
        }
      }
    });

    App.property('allCompleted', {
      get: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[1853,1901],"range":[1842,1901],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":10,"label":"serenadejs"}');
        return this.activeCount === 0;
      },
      set: function(value) {instrumentation_log('{"type":"FunctionExpression","bodyRange":[1930,2206],"range":[1914,2206],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":11,"label":"serenadejs"}');
        var todo, _i, _len, _ref2, _results;
        _ref2 = this.all;
        _results = [];
        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
          todo = _ref2[_i];
          _results.push(todo.completed = value);
        }
        return _results;
      }
    });

    App.property('newTitle');

    App.property('filter', {
      value: 'all'
    });

    App.property('filtered', {
      get: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[2357,2400],"range":[2346,2400],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":12,"label":"serenadejs"}');
        return this[this.filter];
      }
    });

    App.property('filterAll', {
      get: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[2464,2511],"range":[2453,2511],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":13,"label":"serenadejs"}');
        return this.filter === 'all';
      }
    });

    App.property('filterActive', {
      get: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[2578,2628],"range":[2567,2628],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":14,"label":"serenadejs"}');
        return this.filter === 'active';
      }
    });

    App.property('filterCompleted', {
      get: function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[2698,2751],"range":[2687,2751],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":15,"label":"serenadejs"}');
        return this.filter === 'completed';
      }
    });

    return App;

  })(Serenade.Model);

  AppController = (function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[2831,3280],"range":[2820,3280],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":20,"label":"serenadejs"}');
    function AppController(app) {instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[2865,2894],"range":[2837,2894],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":17,"label":"serenadejs"}');
      this.app = app;
    }

    AppController.prototype.newTodo = function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[2945,3136],"range":[2934,3136],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":18,"label":"serenadejs"}');
      var title;
      title = this.app.newTitle.trim();
      if (title) {
        this.app.all.push({
          title: title
        });
      }
      return this.app.newTitle = '';
    };

    AppController.prototype.clearCompleted = function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[3195,3247],"range":[3184,3247],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":19,"label":"serenadejs"}');
      return this.app.all = this.app.active;
    };

    return AppController;

  })();

  TodoController = (function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[3317,4042],"range":[3306,4042],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":26,"label":"serenadejs"}');
    function TodoController(todo) {instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3353,3384],"range":[3323,3384],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":21,"label":"serenadejs"}');
      this.todo = todo;
    }

    TodoController.prototype.removeTodo = function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[3439,3479],"range":[3428,3479],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":22,"label":"serenadejs"}');
      return this.todo.remove();
    };

    TodoController.prototype.edit = function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[3529,3599],"range":[3518,3599],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":23,"label":"serenadejs"}');
      this.todo.edit = true;
      return this.field.select();
    };

    TodoController.prototype.edited = function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[3651,3915],"range":[3640,3915],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":24,"label":"serenadejs"}');
      if (this.todo.title.trim()) {
        this.todo.title = this.todo.title.trim();
        if (this.todo.edit) {
          this.todo.edit = false;
        }
      } else {
        this.todo.remove();
      }
      return this.todo.app.changed.trigger();
    };

    TodoController.prototype.loadField = function(field) {instrumentation_log('{"type":"FunctionExpression","bodyRange":[3975,4008],"range":[3959,4008],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":25,"label":"serenadejs"}');
      this.field = field;
    };

    return TodoController;

  })();

  app = new App(JSON.parse(localStorage.getItem('todos-serenade')));

  app.changed.bind(function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[4148,4209],"range":[4137,4209],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":27,"label":"serenadejs"}');
    return localStorage.setItem('todos-serenade', app);
  });

  router = Router({
    '/': function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[4253,4293],"range":[4242,4293],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":28,"label":"serenadejs"}');
      return app.filter = 'all';
    },
    '/active': function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[4321,4364],"range":[4310,4364],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":29,"label":"serenadejs"}');
      return app.filter = 'active';
    },
    '/completed': function() {instrumentation_log('{"type":"FunctionExpression","bodyRange":[4395,4441],"range":[4384,4441],"file":"todomvc/examples.lacunized.instrumented/serenadejs/js/app.js","index":30,"label":"serenadejs"}');
      return app.filter = 'completed';
    }
  });

  router.init();

  Serenade.view('app', document.getElementById('app').innerHTML);

  Serenade.view('todo', document.getElementById('todo').innerHTML);

  Serenade.controller('app', AppController);

  Serenade.controller('todo', TodoController);

  document.body.insertBefore(Serenade.render('app', app), document.body.children[0]);

}).call(this);
