/** (github.com/dynamic-deadfunction-detector)
* Instrumentation log function used by the instrumenter
* note that the data object is already stringified.
*/
var logHistory = [];
function instrumentation_log(data) {
    
                function exists(e) { return e.file == jData.file && e.range[0] == jData.range[0] && e.range[1] == jData.range[1]; }
                var jData = JSON.parse(data);
                if (logHistory.some(exists)){ return; }
                logHistory.push(jData);
    fetch("http://127.0.0.1:8004/alivefunction", {
                method: "POST",
                headers: { "Accept": "application/json", "Content-Type": "application/json" },
                body: data
            }).then((response) => { });
}


/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.0.0 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
/*!
 * flow.js JavaScript Library v0.2.2
 * https://github.com/it-ony/flow.js
 *
 * Copyright 2012, Tony Findeisen
 * Licensed under the MIT license.
 * https://raw.github.com/it-ony/flow.js/master/LICENSE
 *
 * Date: Mon Mar 12 2012 12:36:34 GMT+0100 (CET)
 */
var requirejs,require,define;(function(global){instrumentation_log('{"type":"FunctionExpression","bodyRange":[535,16217],"range":[519,16217],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":108,"label":"rappidjs"}');function isFunction(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[558,604],"range":[536,604],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":0,"label":"rappidjs"}');return ostring.call(a)==="[object Function]"}function isArray(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[623,666],"range":[604,666],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":1,"label":"rappidjs"}');return ostring.call(a)==="[object Array]"}function each(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[684,743],"range":[666,743],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":2,"label":"rappidjs"}');if(a){var c;for(c=0;c<a.length;c+=1)if(b(a[c],c,a))break}}function eachReverse(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[768,830],"range":[743,830],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":3,"label":"rappidjs"}');if(a){var c;for(c=a.length-1;c>-1;c-=1)if(b(a[c],c,a))break}}function hasProp(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[851,879],"range":[830,879],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":4,"label":"rappidjs"}');return a.hasOwnProperty(b)}function eachProp(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[901,959],"range":[879,959],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":5,"label":"rappidjs"}');var c;for(c in a)if(a.hasOwnProperty(c)&&b(a[c],c))break}function mixin(a,b,c){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[980,1038],"range":[959,1038],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":7,"label":"rappidjs"}');b&&eachProp(b,function(b,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[1008,1036],"range":[995,1036],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":6,"label":"rappidjs"}');if(c||!hasProp(a,d))a[d]=b})}function bind(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1056,1104],"range":[1038,1104],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":9,"label":"rappidjs"}');return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[1074,1103],"range":[1064,1103],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":8,"label":"rappidjs"}');return b.apply(a,arguments)}}function scripts(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1122,1170],"range":[1104,1170],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":10,"label":"rappidjs"}');return document.getElementsByTagName("script")}function getGlobal(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1191,1268],"range":[1170,1268],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":12,"label":"rappidjs"}');if(!a)return a;var b=global;return each(a.split("."),function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[1256,1264],"range":[1245,1264],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":11,"label":"rappidjs"}');b=b[a]}),b}function makeContextModuleFunc(a,b,c){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1305,1444],"range":[1268,1444],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":14,"label":"rappidjs"}');return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[1323,1443],"range":[1313,1443],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":13,"label":"rappidjs"}');var d=aps.call(arguments,0),e;return c&&isFunction(e=d[d.length-1])&&(e.__requireJsBuild=!0),d.push(b),a.apply(null,d)}}function addRequireMethods(a,b,c){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1477,1628],"range":[1444,1628],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":16,"label":"rappidjs"}');each([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[1578,1626],"range":[1567,1626],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":15,"label":"rappidjs"}');a[d[0]]=makeContextModuleFunc(b[d[1]||d[0]],c)})}function makeError(a,b,c,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1655,1787],"range":[1628,1787],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":17,"label":"rappidjs"}');var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1809,12643],"range":[1787,12643],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":97,"label":"rappidjs"}');function q(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1823,1979],"range":[1810,1979],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":18,"label":"rappidjs"}');var b,c;for(b=0;a[b];b+=1){c=a[b];if(c===".")a.splice(b,1),b-=1;else if(c===".."){if(b===1&&(a[2]===".."||a[0]===".."))break;b>0&&(a.splice(b-1,2),b-=2)}}}function r(a,c,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[1996,2497],"range":[1979,2497],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":19,"label":"rappidjs"}');var e=c&&c.split("/"),f=b.map,g=f&&f["*"],h,i,j,k,l,m,n,o;a&&a.charAt(0)==="."&&(c?(b.pkgs[c]?e=[c]:e=e.slice(0,e.length-1),a=e.concat(a.split("/")),q(a),i=b.pkgs[h=a[0]],a=a.join("/"),i&&a===h+"/"+i.main&&(a=h)):a.indexOf("./")===0&&(a=a.substring(2)));if(d&&(e||g)&&f){k=a.split("/");for(l=k.length;l>0;l-=1){n=k.slice(0,l).join("/");if(e)for(m=e.length;m>0;m-=1){j=f[e.slice(0,m).join("/")];if(j){j=j[n];if(j){o=j;break}}}!o&&g&&g[n]&&(o=g[n]);if(o){k.splice(0,l,o),a=k.join("/");break}}}return a}function s(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[2510,2688],"range":[2497,2688],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":21,"label":"rappidjs"}');isBrowser&&each(scripts(),function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[2548,2686],"range":[2537,2686],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":20,"label":"rappidjs"}');if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===n.contextName)return b.parentNode.removeChild(b),!0})}function t(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[2701,2799],"range":[2688,2799],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":22,"label":"rappidjs"}');var c=b.paths[a];if(c&&isArray(c)&&c.length>1)return s(a),c.shift(),n.undef(a),n.require([a]),!0}function u(a,b,c,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[2818,3276],"range":[2799,3276],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":24,"label":"rappidjs"}');var e=a?a.indexOf("!"):-1,h=null,k=b?b.name:null,l=a,m=!0,o,p,q,s;return a||(m=!1,a="_@r"+(i+=1)),e!==-1&&(h=a.substring(0,e),a=a.substring(e+1,a.length)),h&&(h=r(h,k,d)),a&&(h?(q=f[h],q&&q.normalize?o=q.normalize(a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[3046,3063],"range":[3035,3063],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":23,"label":"rappidjs"}');return r(a,k,d)}):o=r(a,k,d)):(o=r(a,k,d),p=g[o],p||(p=n.nameToUrl(a,null,b),g[o]=p))),s=h&&!q&&!c?"_unnormalized"+(j+=1):"",{prefix:h,name:o,parentMap:b,unnormalized:!!s,url:p,originalName:l,isDefine:m,id:(h?h+"!"+(o||""):o)+s}}function v(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3289,3345],"range":[3276,3345],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":25,"label":"rappidjs"}');var b=a.id,d=c[b];return d||(d=c[b]=new n.Module(a)),d}function w(a,b,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3362,3458],"range":[3345,3458],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":26,"label":"rappidjs"}');var e=a.id,g=c[e];hasProp(f,e)&&(!g||g.defineEmitComplete)?b==="defined"&&d(f[e]):v(a).on(b,d)}function x(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3473,3617],"range":[3458,3617],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":28,"label":"rappidjs"}');var d=a.requireModules,e=!1;b?b(a):(each(d,function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[3528,3596],"range":[3517,3596],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":27,"label":"rappidjs"}');var d=c[b];d&&(d.error=a,d.events.error&&(e=!0,d.emit("error",a)))}),e||req.onError(a))}function y(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3629,3725],"range":[3617,3725],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":29,"label":"rappidjs"}');globalDefQueue.length&&(apsp.apply(e,[e.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function z(a,b,c){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3742,3834],"range":[3725,3834],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":30,"label":"rappidjs"}');var d=a&&a.map,e=makeContextModuleFunc(c||n.require,d,b);return addRequireMethods(e,n,d),e}function A(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3847,3951],"range":[3834,3951],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":32,"label":"rappidjs"}');delete c[a],each(k,function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[3880,3949],"range":[3867,3949],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":31,"label":"rappidjs"}');if(b.map.id===a)return k.splice(c,1),b.defined||(n.waitCount-=1),!0})}function B(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[3966,4155],"range":[3951,4155],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":34,"label":"rappidjs"}');var d=a.map.id,e=a.depMaps,f;if(!a.inited)return;return b[d]?a:(b[d]=!0,each(e,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[4057,4150],"range":[4046,4150],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":33,"label":"rappidjs"}');var e=a.id,g=c[e];if(!g)return;return!g.inited||!g.enabled?(f=null,delete b[d],!0):f=B(g,b)}),f)}function C(a,b,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[4172,4422],"range":[4155,4422],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":36,"label":"rappidjs"}');var e=a.map.id,g=a.depMaps;if(!a.inited||!a.map.isDefine)return;return b[e]?f[e]:(b[e]=a,each(g,function(f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[4280,4402],"range":[4269,4402],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":35,"label":"rappidjs"}');var g=f.id,h=c[g],i;if(o[g])return;if(h){if(!h.inited||!h.enabled){d[e]=!0;return}i=C(h,b,d),d[g]||a.defineDepById(g,i)}}),a.check(!0),f[e])}function D(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[4435,4446],"range":[4422,4446],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":37,"label":"rappidjs"}');a.check()}function E(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[4458,5069],"range":[4446,5069],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":41,"label":"rappidjs"}');var a=b.waitSeconds*1e3,d=a&&n.startTime+a<(new Date).getTime(),e=[],f=!1,g=!0,h,i,j,m;if(l)return;l=!0,eachProp(c,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[4585,4757],"range":[4574,4757],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":38,"label":"rappidjs"}');h=a.map,i=h.id;if(!a.enabled)return;if(!a.error)if(!a.inited&&d)t(i)?(m=!0,f=!0):(e.push(i),s(i));else if(!a.inited&&a.fetched&&h.isDefine){f=!0;if(!h.prefix)return g=!1}});if(d&&e.length)return j=makeError("timeout","Load timeout for modules: "+e,null,e),j.contextName=n.contextName,x(j);g&&(each(k,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[4897,4966],"range":[4886,4966],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":39,"label":"rappidjs"}');if(a.defined)return;var b=B(a,{}),c={};b&&(C(b,c,{}),eachProp(c,D))}),eachProp(c,D)),(!d||m)&&f&&(isBrowser||isWebWorker)&&!p&&(p=setTimeout(function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[5049,5058],"range":[5039,5058],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":40,"label":"rappidjs"}');p=0,E()},50)),l=!1}function F(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[5082,5118],"range":[5069,5118],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":42,"label":"rappidjs"}');v(u(a[0],null,!0)).init(a[1],a[2])}function G(a,b,c,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[5137,5214],"range":[5118,5214],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":43,"label":"rappidjs"}');a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function H(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[5227,5400],"range":[5214,5400],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":44,"label":"rappidjs"}');var b=a.currentTarget||a.srcElement;return G(b,n.onScriptLoad,"load","onreadystatechange"),G(b,n.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}var b={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},c={},d={},e=[],f={},g={},h={},i=1,j=1,k=[],l,m,n,o,p;return o={require:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[5542,5555],"range":[5531,5555],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":45,"label":"rappidjs"}');return z(a)},exports:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[5575,5644],"range":[5564,5644],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":46,"label":"rappidjs"}');a.usingExports=!0;if(a.map.isDefine)return a.exports=f[a.map.id]={}},module:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[5663,5787],"range":[5652,5787],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":48,"label":"rappidjs"}');return a.module={id:a.map.id,uri:a.map.url,config:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[5724,5765],"range":[5714,5765],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":47,"label":"rappidjs"}');return b.config&&b.config[a.map.id]||{}},exports:f[a.map.id]}}},m=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[5802,5950],"range":[5791,5950],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":49,"label":"rappidjs"}');this.events=d[a.id]||{},this.map=a,this.shim=b.shim[a.id],this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},m.prototype={init:function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[5986,6505],"range":[5969,6505],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":53,"label":"rappidjs"}');d=d||{};if(this.inited)return;this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6096,6118],"range":[6085,6118],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":50,"label":"rappidjs"}');this.emit("error",a)})),each(a,bind(this,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6151,6415],"range":[6138,6415],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":52,"label":"rappidjs"}');typeof a=="string"&&(a=u(a,this.map.isDefine?this.map:this.map.parentMap,!1,!0),this.depMaps.push(a));var d=o[a.id];if(d){this.depExports[b]=d(this);return}this.depCount+=1,w(a,"defined",bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6360,6394],"range":[6349,6394],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":51,"label":"rappidjs"}');this.defineDep(b,a),this.check()})),c&&w(a,"error",c)})),this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check()},defineDepById:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6533,6627],"range":[6520,6627],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":55,"label":"rappidjs"}');var c;return each(this.depMaps,function(b,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6578,6605],"range":[6565,6605],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":54,"label":"rappidjs"}');if(b.id===a)return c=d,!0}),this.defineDep(c,b)},defineDep:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6651,6734],"range":[6638,6734],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":56,"label":"rappidjs"}');this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6751,6954],"range":[6741,6954],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":58,"label":"rappidjs"}');if(this.fetched)return;this.fetched=!0,n.startTime=(new Date).getTime();var a=this.map;a.prefix?this.callPlugin():this.shim?z(this,!0)(this.shim.deps||[],bind(this,function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6926,6939],"range":[6916,6939],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":57,"label":"rappidjs"}');this.load()})):this.load()},load:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[6970,7028],"range":[6960,7028],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":59,"label":"rappidjs"}');var a=this.map.url;h[a]||(h[a]=!0,n.load(this.map.id,a))},check:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[7046,7987],"range":[7035,7987],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":60,"label":"rappidjs"}');if(!this.enabled)return;var b=this.map.id,d=this.depExports,e=this.exports,g=this.factory,h,i;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(g)){if(this.events.error)try{e=n.execCb(b,g,d,e)}catch(j){h=j}else e=n.execCb(b,g,d,e);this.map.isDefine&&(i=this.module,i&&i.exports!==undefined&&i.exports!==this.exports?e=i.exports:e===undefined&&this.usingExports&&(e=this.exports));if(h)return h.requireMap=this.map,h.requireModules=[this.map.id],h.requireType="define",x(this.error=h)}else e=g;this.exports=e,this.map.isDefine&&!this.ignore&&(f[b]=e,req.onResourceLoad&&req.onResourceLoad(n,this.map,this.depMaps)),delete c[b],this.defined=!0,n.waitCount-=1,n.waitCount===0&&(k=[])}this.defining=!1,a||this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8009,8974],"range":[7999,8974],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":72,"label":"rappidjs"}');var a=this.map,d=a.id,e=u(a.prefix,null,!1,!0);w(e,"defined",bind(this,function(e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8092,8930],"range":[8081,8930],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":71,"label":"rappidjs"}');var f=this.map.name,g=this.map.parentMap?this.map.parentMap.name:null,h,i,j;if(this.map.unnormalized){e.normalize&&(f=e.normalize(f,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8236,8254],"range":[8225,8254],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":61,"label":"rappidjs"}');return r(a,g,!0)})),i=u(a.prefix+"!"+f),w(i,"defined",bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8312,8376],"range":[8301,8376],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":63,"label":"rappidjs"}');this.init([],function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8336,8346],"range":[8326,8346],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":62,"label":"rappidjs"}');return a},null,{enabled:!0,ignore:!0})})),j=c[i.id],j&&(this.events.error&&j.on("error",bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8446,8468],"range":[8435,8468],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":64,"label":"rappidjs"}');this.emit("error",a)})),j.enable());return}h=bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8513,8567],"range":[8502,8567],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":66,"label":"rappidjs"}');this.init([],function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8537,8547],"range":[8527,8547],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":65,"label":"rappidjs"}');return a},null,{enabled:!0})}),h.error=bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8598,8731],"range":[8587,8731],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":68,"label":"rappidjs"}');this.inited=!0,this.error=a,a.requireModules=[d],eachProp(c,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8670,8724],"range":[8659,8724],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":67,"label":"rappidjs"}');a.map.id.indexOf(d+"_unnormalized")===0&&A(a.map.id)}),x(a)}),h.fromText=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8757,8855],"range":[8744,8855],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":69,"label":"rappidjs"}');var c=useInteractive;c&&(useInteractive=!1),req.exec(b),c&&(useInteractive=!0),n.completeLoad(a)},e.load(a.name,z(a.parentMap,!0,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8900,8923],"range":[8887,8923],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":70,"label":"rappidjs"}');return n.require(a,b)}),h,b)})),n.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[8992,9284],"range":[8982,9284],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":75,"label":"rappidjs"}');this.enabled=!0,this.waitPushed||(k.push(this),n.waitCount+=1,this.waitPushed=!0),each(this.depMaps,bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9114,9172],"range":[9103,9172],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":73,"label":"rappidjs"}');var b=a.id,d=c[b];!o[b]&&d&&!d.enabled&&n.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9221,9268],"range":[9210,9268],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":74,"label":"rappidjs"}');var b=c[a.id];b&&!b.enabled&&n.enable(a,this)})),this.check()},on:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9301,9358],"range":[9288,9358],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":76,"label":"rappidjs"}');var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9377,9452],"range":[9364,9452],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":78,"label":"rappidjs"}');each(this.events[a],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9409,9415],"range":[9398,9415],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":77,"label":"rappidjs"}');a(b)}),a==="error"&&delete this.events[a]}},n={config:b,contextName:a,registry:c,defined:f,urlMap:g,urlFetched:h,waitCount:0,defQueue:e,Module:m,makeModuleMap:u,configure:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9592,10225],"range":[9581,10225],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":81,"label":"rappidjs"}');a.baseUrl&&a.baseUrl.charAt(a.baseUrl.length-1)!=="/"&&(a.baseUrl+="/");var c=b.paths,d=b.pkgs,e=b.shim,f=b.map||{};mixin(b,a,!0),mixin(c,a.paths,!0),b.paths=c,a.map&&(mixin(f,a.map,!0),b.map=f),a.shim&&(eachProp(a.shim,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9826,9936],"range":[9813,9936],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":79,"label":"rappidjs"}');isArray(a)&&(a={deps:a}),a.exports&&!a.exports.__buildReady&&(a.exports=n.makeShimExports(a.exports)),e[b]=a}),b.shim=e),a.packages&&(each(a.packages,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[9988,10158],"range":[9977,10158],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":80,"label":"rappidjs"}');var b;a=typeof a=="string"?{name:a}:a,b=a.location,d[a.name]={name:a.name,location:b||a.name,main:(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),b.pkgs=d),(a.deps||a.callback)&&n.require(a.deps||[],a.callback)},makeShimExports:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[10253,10381],"range":[10242,10381],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":84,"label":"rappidjs"}');var b;return typeof a=="string"?(b=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[10299,10320],"range":[10289,10320],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":82,"label":"rappidjs"}');return getGlobal(a)},b.exports=a,b):function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[10346,10380],"range":[10336,10380],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":83,"label":"rappidjs"}');return a.apply(global,arguments)}},requireDefined:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[10410,10445],"range":[10397,10445],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":85,"label":"rappidjs"}');return hasProp(f,u(a,b,!1,!0).id)},requireSpecified:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[10476,10529],"range":[10463,10529],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":86,"label":"rappidjs"}');return a=u(a,b,!1,!0).id,hasProp(f,a)||hasProp(c,a)},require:function(b,c,d,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[10555,11103],"range":[10538,11103],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":87,"label":"rappidjs"}');var h,i,j,k,l;if(typeof b=="string")return isFunction(c)?x(makeError("requireargs","Invalid require call"),d):req.get?req.get(n,b,c):(h=b,g=c,j=u(h,g,!1,!0),i=j.id,hasProp(f,i)?f[i]:x(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+a)));d&&!isFunction(d)&&(g=d,d=undefined),c&&!isFunction(c)&&(g=c,c=undefined),y();while(e.length){l=e.shift();if(l[0]===null)return x(makeError("mismatch","Mismatched anonymous define() module: "+l[l.length-1]));F(l)}return k=v(u(null,g)),k.init(b,c,d,{enabled:!0}),E(),n.require},undef:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[11121,11244],"range":[11110,11244],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":88,"label":"rappidjs"}');var b=u(a,null,!0),e=c[a];delete f[a],delete g[a],delete h[b.url],delete d[a],e&&(e.events.defined&&(d[a]=e.events),A(a))},enable:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[11265,11297],"range":[11252,11297],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":89,"label":"rappidjs"}');var d=c[a.id];d&&v(a).enable()},completeLoad:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[11322,11666],"range":[11311,11666],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":90,"label":"rappidjs"}');var d=b.shim[a]||{},g=d.exports&&d.exports.exports,h,i,j;y();while(e.length){i=e.shift();if(i[0]===null){i[0]=a;if(h)break;h=!0}else i[0]===a&&(h=!0);F(i)}j=c[a];if(!h&&!f[a]&&j&&!j.inited){if(b.enforceDefine&&(!g||!getGlobal(g))){if(t(a))return;return x(makeError("nodefine","No define call for "+a,null,[a]))}F([a,d.deps||[],d.exports])}E()},toUrl:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[11686,11800],"range":[11673,11800],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":91,"label":"rappidjs"}');var c=a.lastIndexOf("."),d=null;return c!==-1&&(d=a.substring(c,a.length),a=a.substring(0,c)),n.nameToUrl(a,d,b)},nameToUrl:function(a,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[11826,12286],"range":[11811,12286],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":92,"label":"rappidjs"}');var e,f,g,h,i,j,k,l,m;a=r(a,d&&d.id,!0);if(req.jsExtRegExp.test(a))l=a+(c||"");else{e=b.paths,f=b.pkgs,i=a.split("/");for(j=i.length;j>0;j-=1){k=i.slice(0,j).join("/"),g=f[k],m=e[k];if(m){isArray(m)&&(m=m[0]),i.splice(0,j,m);break}if(g){a===g.name?h=g.location+"/"+g.main:h=g.location,i.splice(0,j,h);break}}l=i.join("/")+(c||".js"),l=(l.charAt(0)==="/"||l.match(/^[\w\+\.\-]+:/)?"":b.baseUrl)+l}return b.urlArgs?l+((l.indexOf("?")===-1?"?":"&")+b.urlArgs):l},load:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[12305,12322],"range":[12292,12322],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":93,"label":"rappidjs"}');req.load(n,a,b)},execCb:function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[12347,12368],"range":[12330,12368],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":94,"label":"rappidjs"}');return b.apply(d,c)},onScriptLoad:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[12393,12532],"range":[12382,12532],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":95,"label":"rappidjs"}');if(a.type==="load"||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=H(a);n.completeLoad(b.id)}},onScriptError:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[12558,12641],"range":[12547,12641],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":96,"label":"rappidjs"}');var b=H(a);if(!t(b.id))return x(makeError("scripterror","Script error",a,[b.id]))}}}function getInteractiveScript(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[12674,12879],"range":[12643,12879],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":99,"label":"rappidjs"}');return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[12798,12858],"range":[12787,12858],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":98,"label":"rappidjs"}');if(a.readyState==="interactive")return interactiveScript=a}),interactiveScript)}var version="2.0.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,ostring=Object.prototype.toString,ap=Array.prototype,aps=ap.slice,apsp=ap.splice,isBrowser=typeof window!="undefined"&&!!navigator&&!!document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1,req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[13847,14064],"range":[13830,14064],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":100,"label":"rappidjs"}');var e=defContextName,f,g;return!isArray(a)&&typeof a!="string"&&(g=a,isArray(b)?(a=b,b=c,c=d):a=[]),g&&g.context&&(e=g.context),f=contexts[e],f||(f=contexts[e]=req.s.newContext(e)),g&&f.configure(g),f.require(a,b,c)},req.config=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[14087,14102],"range":[14076,14102],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":101,"label":"rappidjs"}');return req(a)},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),addRequireMethods(req,contexts[defContextName]),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[14501,14510],"range":[14490,14510],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":102,"label":"rappidjs"}');throw a},req.load=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[14535,15286],"range":[14520,15286],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":103,"label":"rappidjs"}');var d=a&&a.config||{},e;if(isBrowser)return e=d.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),e.type=d.scriptType||"text/javascript",e.charset="utf-8",e.setAttribute("data-requirecontext",a.contextName),e.setAttribute("data-requiremodule",b),e.attachEvent&&!(e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,e.attachEvent("onreadystatechange",a.onScriptLoad)):(e.addEventListener("load",a.onScriptLoad,!1),e.addEventListener("error",a.onScriptError,!1)),e.src=c,currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;isWebWorker&&(importScripts(c),a.completeLoad(b))},isBrowser&&eachReverse(scripts(),function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[15331,15641],"range":[15320,15641],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":104,"label":"rappidjs"}');head||(head=a.parentNode),dataMain=a.getAttribute("data-main");if(dataMain)return cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript.replace(jsSuffixRegExp,"")),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0}),define=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[15665,16141],"range":[15650,16141],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":106,"label":"rappidjs"}');var d,e;typeof a!="string"&&(c=b,b=a,a=null),isArray(b)||(c=b,b=[]),!b.length&&isFunction(c)&&c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[15848,15859],"range":[15835,15859],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":105,"label":"rappidjs"}');b.push(c)}),b=(c.length===1?["require"]:["require","exports","module"]).concat(b)),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){instrumentation_log('{"type":"FunctionExpression","bodyRange":[16188,16207],"range":[16174,16207],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":107,"label":"rappidjs"}');return eval(text)},req(cfg)})(this),define("js/lib/require.js",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[16262,16264],"range":[16252,16264],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":109,"label":"rappidjs"}');});var exports=typeof exports=="undefined"?this:exports;exports.parser=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[16344,27893],"range":[16334,27893],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":160,"label":"rappidjs"}');var a={parse:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[16371,27705],"range":[16358,27705],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":157,"label":"rappidjs"}');function i(a,b,c){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[16389,16446],"range":[16372,16446],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":110,"label":"rappidjs"}');var d=a,e=c-a.length;for(var f=0;f<e;f++)d=b+d;return d}function j(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[16459,16576],"range":[16446,16576],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":111,"label":"rappidjs"}');var b=a.charCodeAt(0);if(b<=255)var c="x",d=2;else var c="u",d=4;return"\\"+c+i(b.toString(16).toUpperCase(),"0",d)}function k(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[16589,16718],"range":[16576,16718],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":112,"label":"rappidjs"}');return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,j)+'"'}function l(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[16731,16772],"range":[16718,16772],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":113,"label":"rappidjs"}');if(d<f)return;d>f&&(f=d,g=[]),g.push(a)}function m(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[16784,17519],"range":[16772,17519],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":115,"label":"rappidjs"}');var b="varName@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d;if(a.substr(d).match(/^[a-zA-Z$_]/)!==null){var i=a.charAt(d);d++}else{var i=null;e&&l("[a-zA-Z$_]")}if(i!==null){var j=[];if(a.substr(d).match(/^[a-zA-Z0-9$_\- ]/)!==null){var k=a.charAt(d);d++}else{var k=null;e&&l("[a-zA-Z0-9$_\\- ]")}while(k!==null){j.push(k);if(a.substr(d).match(/^[a-zA-Z0-9$_\- ]/)!==null){var k=a.charAt(d);d++}else{var k=null;e&&l("[a-zA-Z0-9$_\\- ]")}}if(j!==null)var m=[i,j];else{var m=null;d=g}}else{var m=null;d=g}var n=m!==null?function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[17327,17353],"range":[17314,17353],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":114,"label":"rappidjs"}');return a?a+b.join(""):!1}(m[0],m[1]):null;if(n!==null)var o=n;else{var o=null;d=f}if(o!==null)var p=o;else{var q=d,r=[];if(r!==null)var p=r;else var p=null}return h[b]={nextPos:d,result:p},p}function n(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[17531,18378],"range":[17519,18378],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":119,"label":"rappidjs"}');var b="string@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d;if(a.substr(d,1)==="'"){var i="'";d+=1}else{var i=null;e&&l('"\'"')}if(i!==null){var j=[],k=d;if(a.length>d){var m=a.charAt(d);d++}else{var m=null;e&&l("any character")}var n=m!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[17797,17820],"range":[17786,17820],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":116,"label":"rappidjs"}');return a==="'"?null:a}(m):null;if(n!==null)var o=n;else{var o=null;d=k}while(o!==null){j.push(o);var k=d;if(a.length>d){var m=a.charAt(d);d++}else{var m=null;e&&l("any character")}var n=m!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[18004,18027],"range":[17993,18027],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":117,"label":"rappidjs"}');return a==="'"?null:a}(m):null;if(n!==null)var o=n;else{var o=null;d=k}}if(j!==null){if(a.substr(d,1)==="'"){var p="'";d+=1}else{var p=null;e&&l('"\'"')}if(p!==null)var q=[i,j,p];else{var q=null;d=g}}else{var q=null;d=g}}else{var q=null;d=g}var r=q!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[18272,18291],"range":[18261,18291],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":118,"label":"rappidjs"}');return a.join("")}(q[1]):null;if(r!==null)var s=r;else{var s=null;d=f}return h[b]={nextPos:d,result:s},s}function o(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[18390,19035],"range":[18378,19035],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":121,"label":"rappidjs"}');var b="number@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d;if(a.substr(d,1)==="-"){var i="-";d+=1}else{var i=null;e&&l('"-"')}var j=i!==null?i:"";if(j!==null){if(a.substr(d).match(/^[0-9]/)!==null){var k=a.charAt(d);d++}else{var k=null;e&&l("[0-9]")}if(k!==null){var m=[];while(k!==null){m.push(k);if(a.substr(d).match(/^[0-9]/)!==null){var k=a.charAt(d);d++}else{var k=null;e&&l("[0-9]")}}}else var m=null;if(m!==null)var n=[j,m];else{var n=null;d=g}}else{var n=null;d=g}var o=n!==null?function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[18902,18943],"range":[18889,18943],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":120,"label":"rappidjs"}');return parseInt(b.join(""),10)*(a?-1:1)}(n[0],n[1]):null;if(o!==null)var p=o;else{var p=null;d=f}return h[b]={nextPos:d,result:p},p}function p(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[19047,19712],"range":[19035,19712],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":123,"label":"rappidjs"}');var b="float@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d,i=o();if(i!==null){if(a.substr(d,1)==="."){var j=".";d+=1}else{var j=null;e&&l('"."')}if(j!==null){if(a.substr(d).match(/^[0-9]/)!==null){var k=a.charAt(d);d++}else{var k=null;e&&l("[0-9]")}if(k!==null){var m=[];while(k!==null){m.push(k);if(a.substr(d).match(/^[0-9]/)!==null){var k=a.charAt(d);d++}else{var k=null;e&&l("[0-9]")}}}else var m=null;if(m!==null)var n=[i,j,m];else{var n=null;d=g}}else{var n=null;d=g}}else{var n=null;d=g}var p=n!==null?function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[19580,19620],"range":[19567,19620],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":122,"label":"rappidjs"}');return parseFloat(a+"."+b.join(""),10)}(n[0],n[2]):null;if(p!==null)var q=p;else{var q=null;d=f}return h[b]={nextPos:d,result:q},q}function q(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[19724,20217],"range":[19712,20217],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":126,"label":"rappidjs"}');var b="boolean@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d;if(a.substr(d,4)==="true"){var g="true";d+=4}else{var g=null;e&&l('"true"')}var i=g!==null?function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[19893,19903],"range":[19883,19903],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":124,"label":"rappidjs"}');return!0}():null;if(i!==null)var j=i;else{var j=null;d=f}if(j!==null)var k=j;else{var m=d;if(a.substr(d,5)==="false"){var n="false";d+=5}else{var n=null;e&&l('"false"')}var o=n!==null?function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[20088,20098],"range":[20078,20098],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":125,"label":"rappidjs"}');return!1}():null;if(o!==null)var p=o;else{var p=null;d=m}if(p!==null)var k=p;else var k=null}return h[b]={nextPos:d,result:k},k}function r(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[20229,20680],"range":[20217,20680],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":128,"label":"rappidjs"}');var b="index@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d;if(a.substr(d,1)==="["){var i="[";d+=1}else{var i=null;e&&l('"["')}if(i!==null){var j=o();if(j!==null){if(a.substr(d,1)==="]"){var k="]";d+=1}else{var k=null;e&&l('"]"')}if(k!==null)var m=[i,j,k];else{var m=null;d=g}}else{var m=null;d=g}}else{var m=null;d=g}var n=m!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[20583,20593],"range":[20572,20593],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":127,"label":"rappidjs"}');return a}(m[1]):null;if(n!==null)var p=n;else{var p=null;d=f}return h[b]={nextPos:d,result:p},p}function s(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[20692,21014],"range":[20680,21014],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":129,"label":"rappidjs"}');var a="parameter@"+d,b=h[a];if(b)return d=b.nextPos,b.result;var c=n();if(c!==null)var e=c;else{var f=q();if(f!==null)var e=f;else{var g=p();if(g!==null)var e=g;else{var i=o();if(i!==null)var e=i;else{var j=A();if(j!==null)var e=j;else{var k=y();if(k!==null)var e=k;else var e=null}}}}}return h[a]={nextPos:d,result:e},e}function t(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[21026,21894],"range":[21014,21894],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":133,"label":"rappidjs"}');var b="parameterArray@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d,i=s(),j=i!==null?i:"";if(j!==null){var k=[],m=d,n=d;if(a.substr(d,1)===","){var o=",";d+=1}else{var o=null;e&&l('","')}if(o!==null){var p=s();if(p!==null)var q=[o,p];else{var q=null;d=n}}else{var q=null;d=n}var r=q!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[21338,21348],"range":[21327,21348],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":130,"label":"rappidjs"}');return a}(q[1]):null;if(r!==null)var t=r;else{var t=null;d=m}while(t!==null){k.push(t);var m=d,n=d;if(a.substr(d,1)===","){var o=",";d+=1}else{var o=null;e&&l('","')}if(o!==null){var p=s();if(p!==null)var q=[o,p];else{var q=null;d=n}}else{var q=null;d=n}var r=q!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[21619,21629],"range":[21608,21629],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":131,"label":"rappidjs"}');return a}(q[1]):null;if(r!==null)var t=r;else{var t=null;d=m}}if(k!==null)var u=[j,k];else{var u=null;d=g}}else{var u=null;d=g}var v=u!==null?function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[21775,21802],"range":[21762,21802],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":132,"label":"rappidjs"}');return a?[a].concat(b):[]}(u[0],u[1]):null;if(v!==null)var w=v;else{var w=null;d=f}return h[b]={nextPos:d,result:w},w}function u(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[21906,22239],"range":[21894,22239],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":135,"label":"rappidjs"}');var a="var@"+d,b=h[a];if(b)return d=b.nextPos,b.result;var c=d,e=d,f=m();if(f!==null){var g=r(),i=g!==null?g:"";if(i!==null)var j=[f,i];else{var j=null;d=e}}else{var j=null;d=e}var k=j!==null?function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[22112,22147],"range":[22099,22147],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":134,"label":"rappidjs"}');return{name:a,type:"var",index:b}}(j[0],j[1]):null;if(k!==null)var l=k;else{var l=null;d=c}return h[a]={nextPos:d,result:l},l}function v(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[22251,22871],"range":[22239,22871],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":137,"label":"rappidjs"}');var b="fnc@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d,i=m();if(i!==null){if(a.substr(d,1)==="("){var j="(";d+=1}else{var j=null;e&&l('"("')}if(j!==null){var k=t(),n=k!==null?k:"";if(n!==null){if(a.substr(d,1)===")"){var o=")";d+=1}else{var o=null;e&&l('")"')}if(o!==null){var p=r(),q=p!==null?p:"";if(q!==null)var s=[i,j,n,o,q];else{var s=null;d=g}}else{var s=null;d=g}}else{var s=null;d=g}}else{var s=null;d=g}}else{var s=null;d=g}var u=s!==null?function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[22727,22774],"range":[22712,22774],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":136,"label":"rappidjs"}');return{name:a,type:"fnc",parameter:b,index:c}}(s[0],s[2],s[4]):null;if(u!==null)var v=u;else{var v=null;d=f}return h[b]={nextPos:d,result:v},v}function w(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[22883,23204],"range":[22871,23204],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":139,"label":"rappidjs"}');var a="pathElement@"+d,b=h[a];if(b)return d=b.nextPos,b.result;var c=d,e=r(),f=e!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[22983,23013],"range":[22972,23013],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":138,"label":"rappidjs"}');return{type:"index",index:a}}(e):null;if(f!==null)var g=f;else{var g=null;d=c}if(g!==null)var i=g;else{var j=v();if(j!==null)var i=j;else{var k=u();if(k!==null)var i=k;else var i=null}}return h[a]={nextPos:d,result:i},i}function x(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[23216,24052],"range":[23204,24052],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":143,"label":"rappidjs"}');var b="path@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d,i=w();if(i!==null){var j=[],k=d,m=d;if(a.substr(d,1)==="."){var n=".";d+=1}else{var n=null;e&&l('"."')}if(n!==null){var o=w();if(o!==null)var p=[n,o];else{var p=null;d=m}}else{var p=null;d=m}var q=p!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[23502,23512],"range":[23491,23512],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":140,"label":"rappidjs"}');return a}(p[1]):null;if(q!==null)var r=q;else{var r=null;d=k}while(r!==null){j.push(r);var k=d,m=d;if(a.substr(d,1)==="."){var n=".";d+=1}else{var n=null;e&&l('"."')}if(n!==null){var o=w();if(o!==null)var p=[n,o];else{var p=null;d=m}}else{var p=null;d=m}var q=p!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[23783,23793],"range":[23772,23793],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":141,"label":"rappidjs"}');return a}(p[1]):null;if(q!==null)var r=q;else{var r=null;d=k}}if(j!==null)var s=[i,j];else{var s=null;d=g}}else{var s=null;d=g}var t=s!==null?function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[23939,23960],"range":[23926,23960],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":142,"label":"rappidjs"}');return[a].concat(b)}(s[0],s[1]):null;if(t!==null)var u=t;else{var u=null;d=f}return h[b]={nextPos:d,result:u},u}function y(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[24064,24543],"range":[24052,24543],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":145,"label":"rappidjs"}');var b="binding@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d;if(a.substr(d,1)==="{"){var i="{";d+=1}else{var i=null;e&&l('"{"')}if(i!==null){var j=x();if(j!==null){if(a.substr(d,1)==="}"){var k="}";d+=1}else{var k=null;e&&l('"}"')}if(k!==null)var m=[i,j,k];else{var m=null;d=g}}else{var m=null;d=g}}else{var m=null;d=g}var n=m!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[24420,24456],"range":[24409,24456],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":144,"label":"rappidjs"}');return a?{path:a,type:"normal"}:!1}(m[1]):null;if(n!==null)var o=n;else{var o=null;d=f}return h[b]={nextPos:d,result:o},o}function z(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[24555,25718],"range":[24543,25718],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":149,"label":"rappidjs"}');var b="twoWayBinding@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d;if(a.substr(d,2)==="{{"){var i="{{";d+=2}else{var i=null;e&&l('"{{"')}if(i!==null){var j=x();if(j!==null){var k=d,m=d;if(a.substr(d,1)==="|"){var n="|";d+=1}else{var n=null;e&&l('"|"')}if(n!==null){var o=x();if(o!==null)var p=[n,o];else{var p=null;d=m}}else{var p=null;d=m}var q=p!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[24932,24942],"range":[24921,24942],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":146,"label":"rappidjs"}');return a}(p[1]):null;if(q!==null)var r=q;else{var r=null;d=k}var s=r!==null?r:"";if(s!==null){var t=d,u=d;if(a.substr(d,1)==="|"){var v="|";d+=1}else{var v=null;e&&l('"|"')}if(v!==null){var w=x();if(w!==null)var y=[v,w];else{var y=null;d=u}}else{var y=null;d=u}var z=y!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[25220,25230],"range":[25209,25230],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":147,"label":"rappidjs"}');return a}(y[1]):null;if(z!==null)var A=z;else{var A=null;d=t}var B=A!==null?A:"";if(B!==null){if(a.substr(d,2)==="}}"){var C="}}";d+=2}else{var C=null;e&&l('"}}"')}if(C!==null)var D=[i,j,s,B,C];else{var D=null;d=g}}else{var D=null;d=g}}else{var D=null;d=g}}else{var D=null;d=g}}else{var D=null;d=g}var E=D!==null?function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[25549,25621],"range":[25534,25621],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":148,"label":"rappidjs"}');return a?{path:a,type:"twoWay",transformBack:b||!1,transform:c||!1}:!1}(D[1],D[2],D[3]):null;if(E!==null)var F=E;else{var F=null;d=f}return h[b]={nextPos:d,result:F},F}function A(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[25730,26102],"range":[25718,26102],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":151,"label":"rappidjs"}');var b="staticBinding@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=d;if(a.substr(d,1)==="$"){var i="$";d+=1}else{var i=null;e&&l('"$"')}if(i!==null){var j=y();if(j!==null)var k=[i,j];else{var k=null;d=g}}else{var k=null;d=g}var m=k!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[25989,26015],"range":[25978,26015],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":150,"label":"rappidjs"}');return a.type="static",a}(k[1]):null;if(m!==null)var n=m;else{var n=null;d=f}return h[b]={nextPos:d,result:n},n}function B(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[26114,26759],"range":[26102,26759],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":153,"label":"rappidjs"}');var b="text@"+d,c=h[b];if(c)return d=c.nextPos,c.result;var f=d,g=z(),i=g!==null?function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[26207,26218],"range":[26196,26218],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":152,"label":"rappidjs"}');return[a]}(g):null;if(i!==null)var j=i;else{var j=null;d=f}if(j!==null)var k=j;else{var m=[],n=A();if(n!==null)var o=n;else{var p=y();if(p!==null)var o=p;else{if(a.length>d){var q=a.charAt(d);d++}else{var q=null;e&&l("any character")}if(q!==null)var o=q;else var o=null}}while(o!==null){m.push(o);var n=A();if(n!==null)var o=n;else{var p=y();if(p!==null)var o=p;else{if(a.length>d){var q=a.charAt(d);d++}else{var q=null;e&&l("any character")}if(q!==null)var o=q;else var o=null}}}if(m!==null)var k=m;else var k=null}return h[b]={nextPos:d,result:k},k}function C(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[26771,27114],"range":[26759,27114],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":155,"label":"rappidjs"}');function b(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[26785,27004],"range":[26772,27004],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":154,"label":"rappidjs"}');a.sort();var b=null,c=[];for(var d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,c.length-1).join(", ")+" or "+c[c.length-1]}}var c=b(g),e=Math.max(d,f),h=e<a.length?k(a.charAt(e)):"end of input";return"Expected "+c+" but "+h+" found."}function D(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[27126,27296],"range":[27114,27296],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":156,"label":"rappidjs"}');var b=1,c=1,d=!1;for(var e=0;e<f;e++){var g=a.charAt(e);g==="\n"?(d||b++,c=1,d=!1):g==="\r"|g==="\u2028"||g==="\u2029"?(b++,c=1,d=!0):(c++,d=!1)}return{line:b,column:c}}var c={binding:y,"boolean":q,"float":p,fnc:v,index:r,number:o,parameter:s,parameterArray:t,path:x,pathElement:w,staticBinding:A,string:n,text:B,twoWayBinding:z,"var":u,varName:m};if(b!==undefined){if(c[b]===undefined)throw new Error("Invalid rule name: "+k(b)+".")}else b="text";var d=0,e=!0,f=0,g=[],h={},E=c[b]();if(E===null||d!==a.length){var F=D();throw new this.SyntaxError(C(),F.line,F.column)}return E},toSource:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[27725,27746],"range":[27715,27746],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":158,"label":"rappidjs"}');return this._source}};return a.SyntaxError=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[27784,27850],"range":[27769,27850],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":159,"label":"rappidjs"}');this.name="SyntaxError",this.message=a,this.line=b,this.column=c},a.SyntaxError.prototype=Error.prototype,a}(),define("js/lib/parser",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[27929,27952],"range":[27919,27952],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":161,"label":"rappidjs"}');return exports.parser}),define("js/lib/parser",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[27987,27989],"range":[27977,27989],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":162,"label":"rappidjs"}');});var inherit;(function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[28017,29615],"range":[28004,29615],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":171,"label":"rappidjs"}');inherit=function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[28043,28773],"range":[28026,28773],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":165,"label":"rappidjs"}');var e=Array.prototype.slice.call(arguments);e[0]instanceof Object&&e.unshift(null),e[2]instanceof Function&&e.splice(2,0,null),a=e[0],b=e[1]||{},c=e[2]||{},d=e[3]||Object;var f=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[28231,28284],"range":[28221,28284],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":163,"label":"rappidjs"}');if(this.ctor)return this.ctor.apply(this,arguments)};if(d.constructor instanceof Function){function g(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[28335,28337],"range":[28323,28337],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":164,"label":"rappidjs"}');}g.prototype=d.prototype,f.prototype=new g,f.prototype.constructor=b,b&&a&&(f.prototype.constructor.name=a),f.prototype.base=d.prototype}else f.prototype=d,f.prototype.constructor=b,f.prototype.base=d;for(var h in b)if(b.hasOwnProperty(h)){var i=f.prototype[h];f.prototype[h]=b[h],i instanceof Function&&(f.prototype[h].baseImplementation=i)}for(var j in c)c.hasOwnProperty(j)&&(f[j]=c[j]);return f.prototype.callBase=inherit.callBase,f},inherit.callBase=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[28801,28989],"range":[28791,28989],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":166,"label":"rappidjs"}');var a=Array.prototype.slice.call(arguments);return a.length==0&&(a=Array.prototype.slice.call(arguments.callee.caller.arguments)),arguments.callee.caller.baseImplementation.apply(this,a)},Function.prototype.inherit=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29032,29152],"range":[29017,29152],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":167,"label":"rappidjs"}');var d=Array.prototype.slice.call(arguments);return d[0]instanceof Object&&d.unshift(null),inherit(d[0],d[1],d[2],this)},Function.prototype.callBase=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29191,29383],"range":[29181,29383],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":168,"label":"rappidjs"}');var a=Array.prototype.slice.call(arguments),b=a.shift();if(b&&b.base){var c=arguments.callee.caller;return this==c?this.baseImplementation.apply(b,a):this.apply(b,a)}throw"base not definied"},Function.prototype.classof=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29422,29554],"range":[29411,29554],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":169,"label":"rappidjs"}');if(!a)return!1;if(a instanceof Function)return a===this||this.prototype instanceof a;throw new Error("factory must be a function")},inherit.Base=inherit({ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29592,29594],"range":[29582,29594],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":170,"label":"rappidjs"}');}}),b.inherit=inherit})(this,typeof exports=="undefined"?this:exports),define("inherit",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29691,29707],"range":[29681,29707],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":172,"label":"rappidjs"}');return inherit}),define("inherit",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29736,29738],"range":[29726,29738],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":173,"label":"rappidjs"}');}),define("js/core/Base",["inherit"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29785,30216],"range":[29774,30216],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":177,"label":"rappidjs"}');var b=a.Base.inherit("js.core.Base",{ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29838,29840],"range":[29828,29840],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":174,"label":"rappidjs"}');},runsInBrowser:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29865,29900],"range":[29855,29900],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":175,"label":"rappidjs"}');return typeof window!="undefined"},log:function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[29918,30127],"range":[29905,30127],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":176,"label":"rappidjs"}');c=c||b.LOGLEVEL.INFO,a instanceof Error&&(a=a.toString());if(b.logger.length)for(var d=0;d<b.logger.length;d++)b.logger[d].log(a,c);else typeof console!="undefined"&&(console[c]||console.log).call(console,a)}});return b.logger=[],b.LOGLEVEL={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},b}),define("js/core/EventDispatcher",["js/core/Base"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[30279,32283],"range":[30268,32283],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":191,"label":"rappidjs"}');Function.prototype.on=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[30312,30461],"range":[30302,30461],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":178,"label":"rappidjs"}');var a=Array.prototype.slice.call(arguments,0);this._events=this._events||[];for(var b=0;b<a.length;b++){var c=a[b];this._events.push(c)}return this},Function.prototype.onChange=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[30500,30726],"range":[30490,30726],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":179,"label":"rappidjs"}');var a=Array.prototype.slice.call(arguments,0);this._events=this._events||[],this._attributes=this._attributes||[];for(var b=0;b<a.length;b++){var c=a[b];this._attributes.push(c),c="change:"+c,this._events.push(c)}return this};var b,c=a.inherit("js.core.EventDispatcher",{ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[30787,30827],"range":[30777,30827],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":180,"label":"rappidjs"}');this.callBase(),this._eventHandlers={}},bind:function(a,b,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[30848,31024],"range":[30833,31024],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":181,"label":"rappidjs"}');if(b){d=d||this;var e=this._eventHandlers[a]||(this._eventHandlers[a]=[]),f=new c.EventHandler(b,d);return e.push(f),f}return console.warn('no eventHandler for "'+a+'"'),null},trigger:function(a,d,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[31048,31372],"range":[31033,31372],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":182,"label":"rappidjs"}');if(this._eventHandlers[a]){d instanceof c.Event||(d=new c.Event(d)),e||(e=arguments.callee.caller),d.target=e,d.type=a;var f=this._eventHandlers[a];for(var g=0;g<f.length;g++)if(f[g]){var h=f[g].trigger(d,e);h!==b&&(ret=h,h===!1&&(d.preventDefault(),d.stopPropagation()));if(d.isImmediatePropagationStopped)break}}return d},unbind:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[31395,31609],"range":[31380,31609],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":183,"label":"rappidjs"}');if(!a)this._eventHandlers={};else if(!b)this._eventHandlers[a]=[];else if(this._eventHandlers[a]){var d=this._eventHandlers[a];for(var e=d.length-1;e>=0;e--)d[e].$callback==b&&(!c||c===d[e].scope)&&d.splice(e,1)}},destroy:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[31628,31652],"range":[31618,31652],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":184,"label":"rappidjs"}');this._eventHandlers={}}});return c.Event=a.inherit({ctor:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[31699,31817],"range":[31686,31817],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":185,"label":"rappidjs"}');this.$=a,this.target=b,this.isDefaultPrevented=!1,this.isPropagationStopped=!1,this.isImmediatePropagationStopped=!1},preventDefault:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[31843,31955],"range":[31833,31955],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":186,"label":"rappidjs"}');this.isDefaultPrevented=!0;var a=this.$.orginalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[31982,32012],"range":[31972,32012],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":187,"label":"rappidjs"}');this.isPropagationStopped=!0},stopImmediatePropagation:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[32048,32110],"range":[32038,32110],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":188,"label":"rappidjs"}');this.isImmediatePropagationStopped=!0,this.stopPropagation()}}),c.EventHandler=a.inherit({ctor:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[32157,32188],"range":[32144,32188],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":189,"label":"rappidjs"}');this.scope=b,this.$callback=a},trigger:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[32210,32278],"range":[32197,32278],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":190,"label":"rappidjs"}');return this.$callback.call(this.scope,a,b),!a.isPropagationStopped}}),c}),function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[32295,44630],"range":[32285,44630],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":334,"label":"rappidjs"}');function A(a,b,c){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[32313,33332],"range":[32296,33332],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":192,"label":"rappidjs"}');if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&w.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&w.isFunction(b.isEqual))return b.isEqual(a);var d=i.call(a);if(d!=i.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var e=c.length;while(e--)if(c[e]==a)return!0;c.push(a);var f=0,g=!0;if(d=="[object Array]"){f=a.length,g=f==b.length;if(g)while(f--)if(!(g=f in a==f in b&&A(a[f],b[f],c)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var h in a)if(w.has(a,h)){f++;if(!(g=w.has(b,h)&&A(a[h],b[h],c)))break}if(g){for(h in b)if(w.has(b,h)&&!(f--))break;g=!f}}return c.pop(),g}var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.slice,h=d.unshift,i=e.toString,j=e.hasOwnProperty,k=d.forEach,l=d.map,m=d.reduce,n=d.reduceRight,o=d.filter,p=d.every,q=d.some,r=d.indexOf,s=d.lastIndexOf,t=Array.isArray,u=Object.keys,v=f.bind,w=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[33623,33640],"range":[33612,33640],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":193,"label":"rappidjs"}');return new I(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=w),exports._=w):a._=w,w.VERSION="1.3.3";var x=w.each=w.forEach=function(a,b,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[33816,34037],"range":[33801,34037],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":194,"label":"rappidjs"}');if(a==null)return;if(k&&a.forEach===k)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return}else for(var g in a)if(w.has(a,g)&&b.call(d,a[g],g,a)===c)return};w.map=w.collect=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34069,34216],"range":[34054,34216],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":196,"label":"rappidjs"}');var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(x(a,function(a,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34140,34169],"range":[34125,34169],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":195,"label":"rappidjs"}');d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},w.reduce=w.foldl=w.inject=function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34260,34512],"range":[34243,34512],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":198,"label":"rappidjs"}');var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=w.bind(b,d)),e?a.reduce(b,c):a.reduce(b);x(a,function(a,f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34394,34428],"range":[34379,34428],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":197,"label":"rappidjs"}');e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},w.reduceRight=w.foldr=function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34552,34775],"range":[34535,34775],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":199,"label":"rappidjs"}');var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=w.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=w.toArray(a).reverse();return d&&!e&&(b=w.bind(b,d)),e?w.reduce(f,b,c,d):w.reduce(f,b)},w.find=w.detect=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34807,34878],"range":[34792,34878],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":201,"label":"rappidjs"}');var d;return y(a,function(a,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34840,34874],"range":[34825,34874],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":200,"label":"rappidjs"}');if(b.call(c,a,e,f))return d=a,!0}),d},w.filter=w.select=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34912,35028],"range":[34897,35028],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":203,"label":"rappidjs"}');var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(x(a,function(a,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[34989,35023],"range":[34974,35023],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":202,"label":"rappidjs"}');b.call(c,a,e,f)&&(d[d.length]=a)}),d)},w.reject=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35053,35139],"range":[35038,35139],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":205,"label":"rappidjs"}');var d=[];return a==null?d:(x(a,function(a,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35100,35134],"range":[35085,35134],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":204,"label":"rappidjs"}');b.call(c,a,e,f)||(d[d.length]=a)}),d)},w.every=w.all=function(a,b,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35169,35288],"range":[35154,35288],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":207,"label":"rappidjs"}');var e=!0;return a==null?e:p&&a.every===p?a.every(b,d):(x(a,function(a,f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35244,35281],"range":[35229,35281],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":206,"label":"rappidjs"}');if(!(e=e&&b.call(d,a,f,g)))return c}),!!e)};var y=w.some=w.any=function(a,b,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35323,35457],"range":[35308,35457],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":209,"label":"rappidjs"}');b||(b=w.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,d):(x(a,function(a,f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35414,35450],"range":[35399,35450],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":208,"label":"rappidjs"}');if(e||(e=b.call(d,a,f,g)))return c}),!!e)};w.include=w.contains=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35492,35590],"range":[35479,35590],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":211,"label":"rappidjs"}');var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:(c=y(a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35571,35585],"range":[35560,35585],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":210,"label":"rappidjs"}');return a===b}),c)},w.invoke=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35613,35714],"range":[35600,35714],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":213,"label":"rappidjs"}');var c=g.call(arguments,2);return w.map(a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35666,35712],"range":[35655,35712],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":212,"label":"rappidjs"}');return(w.isFunction(b)?b||a:a[b]).apply(a,c)})},w.pluck=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35736,35778],"range":[35723,35778],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":215,"label":"rappidjs"}');return w.map(a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35763,35776],"range":[35752,35776],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":214,"label":"rappidjs"}');return a[b]})},w.max=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35800,36031],"range":[35785,36031],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":217,"label":"rappidjs"}');if(!b&&w.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&w.isEmpty(a))return-Infinity;var d={computed:-Infinity};return x(a,function(a,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[35954,36021],"range":[35939,36021],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":216,"label":"rappidjs"}');var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},w.min=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36053,36282],"range":[36038,36282],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":219,"label":"rappidjs"}');if(!b&&w.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&w.isEmpty(a))return Infinity;var d={computed:Infinity};return x(a,function(a,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36206,36272],"range":[36191,36272],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":218,"label":"rappidjs"}');var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},w.shuffle=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36304,36398],"range":[36293,36398],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":221,"label":"rappidjs"}');var b=[],c;return x(a,function(a,d,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36342,36394],"range":[36327,36394],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":220,"label":"rappidjs"}');c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a}),b},w.sortBy=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36423,36664],"range":[36408,36664],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":225,"label":"rappidjs"}');var d=w.isFunction(b)?b:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36459,36472],"range":[36448,36472],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":222,"label":"rappidjs"}');return a[b]};return w.pluck(w.map(a,function(a,b,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36511,36553],"range":[36496,36553],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":223,"label":"rappidjs"}');return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36573,36653],"range":[36560,36653],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":224,"label":"rappidjs"}');var c=a.criteria,d=b.criteria;return c===void 0?1:d===void 0?-1:c<d?-1:c>d?1:0}),"value")},w.groupBy=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36688,36811],"range":[36675,36811],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":228,"label":"rappidjs"}');var c={},d=w.isFunction(b)?b:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36729,36742],"range":[36718,36742],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":226,"label":"rappidjs"}');return a[b]};return x(a,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36767,36807],"range":[36754,36807],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":227,"label":"rappidjs"}');var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},w.sortedIndex=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36841,36935],"range":[36826,36935],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":229,"label":"rappidjs"}');c||(c=w.identity);var d=0,e=a.length;while(d<e){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},w.toArray=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[36957,37079],"range":[36946,37079],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":230,"label":"rappidjs"}');return a?w.isArray(a)?g.call(a):w.isArguments(a)?g.call(a):a.toArray&&w.isFunction(a.toArray)?a.toArray():w.values(a):[]},w.size=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37098,37145],"range":[37087,37145],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":231,"label":"rappidjs"}');return w.isArray(a)?a.length:w.keys(a).length},w.first=w.head=w.take=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37183,37222],"range":[37168,37222],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":232,"label":"rappidjs"}');return b!=null&&!c?g.call(a,0,b):a[0]},w.initial=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37248,37294],"range":[37233,37294],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":233,"label":"rappidjs"}');return g.call(a,0,a.length-(b==null||c?1:b))},w.last=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37317,37384],"range":[37302,37384],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":234,"label":"rappidjs"}');return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},w.rest=w.tail=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37414,37447],"range":[37399,37447],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":235,"label":"rappidjs"}');return g.call(a,b==null||c?1:b)},w.compact=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37469,37512],"range":[37458,37512],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":237,"label":"rappidjs"}');return w.filter(a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37499,37510],"range":[37488,37510],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":236,"label":"rappidjs"}');return!!a})},w.flatten=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37536,37639],"range":[37523,37639],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":239,"label":"rappidjs"}');return w.reduce(a,function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37568,37634],"range":[37555,37634],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":238,"label":"rappidjs"}');return w.isArray(c)?a.concat(b?c:w.flatten(c)):(a[a.length]=c,a)},[])},w.without=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37661,37705],"range":[37650,37705],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":240,"label":"rappidjs"}');return w.difference(a,g.call(arguments,1))},w.uniq=w.unique=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37737,37902],"range":[37722,37902],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":242,"label":"rappidjs"}');var d=c?w.map(a,c):a,e=[];return a.length<3&&(b=!0),w.reduce(d,function(c,d,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37816,37895],"range":[37801,37895],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":241,"label":"rappidjs"}');if(b?w.last(c)!==d||!c.length:!w.include(c,d))c.push(d),e.push(a[f]);return c},[]),e},w.union=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[37921,37961],"range":[37911,37961],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":243,"label":"rappidjs"}');return w.uniq(w.flatten(arguments,!0))},w.intersection=w.intersect=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38000,38123],"range":[37989,38123],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":246,"label":"rappidjs"}');var b=g.call(arguments,1);return w.filter(w.uniq(a),function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38064,38121],"range":[38053,38121],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":245,"label":"rappidjs"}');return w.every(b,function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38093,38119],"range":[38082,38119],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":244,"label":"rappidjs"}');return w.indexOf(b,a)>=0})})},w.difference=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38148,38243],"range":[38137,38243],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":248,"label":"rappidjs"}');var b=w.flatten(g.call(arguments,1),!0);return w.filter(a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38218,38241],"range":[38207,38241],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":247,"label":"rappidjs"}');return!w.include(b,a)})},w.zip=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38260,38379],"range":[38250,38379],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":249,"label":"rappidjs"}');var a=g.call(arguments),b=w.max(w.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=w.pluck(a,""+d);return c},w.indexOf=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38405,38586],"range":[38390,38586],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":250,"label":"rappidjs"}');if(a==null)return-1;var d,e;if(c)return d=w.sortedIndex(a,b),a[d]===b?d:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1},w.lastIndexOf=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38614,38746],"range":[38601,38746],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":251,"label":"rappidjs"}');if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);var c=a.length;while(c--)if(c in a&&a[c]===b)return c;return-1},w.range=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38770,38912],"range":[38755,38912],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":252,"label":"rappidjs"}');arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f};var z=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38929,38931],"range":[38919,38931],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":253,"label":"rappidjs"}');};w.bind=function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[38952,39269],"range":[38939,39269],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":255,"label":"rappidjs"}');var d,e;if(b.bind===v&&v)return v.apply(b,g.call(arguments,1));if(!w.isFunction(b))throw new TypeError;return e=g.call(arguments,2),d=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39097,39268],"range":[39087,39268],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":254,"label":"rappidjs"}');if(this instanceof d){z.prototype=b.prototype;var a=new z,f=b.apply(a,e.concat(g.call(arguments)));return Object(f)===f?f:a}return b.apply(c,e.concat(g.call(arguments)))}},w.bindAll=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39291,39397],"range":[39280,39397],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":257,"label":"rappidjs"}');var b=g.call(arguments,1);return b.length==0&&(b=w.functions(a)),x(b,function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39372,39393],"range":[39361,39393],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":256,"label":"rappidjs"}');a[b]=w.bind(a[b],a)}),a},w.memoize=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39421,39550],"range":[39408,39550],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":259,"label":"rappidjs"}');var c={};return b||(b=w.identity),function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39466,39549],"range":[39456,39549],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":258,"label":"rappidjs"}');var d=b.apply(this,arguments);return w.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},w.delay=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39572,39655],"range":[39559,39655],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":261,"label":"rappidjs"}');var c=g.call(arguments,2);return setTimeout(function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39627,39651],"range":[39617,39651],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":260,"label":"rappidjs"}');return a.apply(null,c)},b)},w.defer=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39675,39734],"range":[39664,39734],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":262,"label":"rappidjs"}');return w.delay.apply(w,[a,1].concat(g.call(arguments,1)))},w.throttle=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39759,39957],"range":[39746,39957],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":266,"label":"rappidjs"}');var c,d,e,f,g,h,i=w.debounce(function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39799,39807],"range":[39789,39807],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":263,"label":"rappidjs"}');g=f=!1},b);return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39828,39956],"range":[39818,39956],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":265,"label":"rappidjs"}');c=this,d=arguments;var j=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39864,39892],"range":[39854,39892],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":264,"label":"rappidjs"}');e=null,g&&a.apply(c,d),i()};return e||(e=setTimeout(j,b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},w.debounce=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[39984,40124],"range":[39969,40124],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":269,"label":"rappidjs"}');var d;return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40008,40123],"range":[39998,40123],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":268,"label":"rappidjs"}');var e=this,f=arguments,g=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40044,40068],"range":[40034,40068],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":267,"label":"rappidjs"}');d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},w.once=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40143,40218],"range":[40132,40218],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":271,"label":"rappidjs"}');var b=!1,c;return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40172,40217],"range":[40162,40217],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":270,"label":"rappidjs"}');return b?c:(b=!0,c=a.apply(this,arguments))}},w.wrap=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40239,40320],"range":[40226,40320],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":273,"label":"rappidjs"}');return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40257,40319],"range":[40247,40319],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":272,"label":"rappidjs"}');var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},w.compose=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40341,40458],"range":[40331,40458],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":275,"label":"rappidjs"}');var a=arguments;return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40375,40457],"range":[40365,40457],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":274,"label":"rappidjs"}');var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},w.after=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40480,40549],"range":[40467,40549],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":277,"label":"rappidjs"}');return a<=0?b():function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40507,40548],"range":[40497,40548],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":276,"label":"rappidjs"}');if(--a<1)return b.apply(this,arguments)}},w.keys=u||function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40571,40688],"range":[40560,40688],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":278,"label":"rappidjs"}');if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)w.has(a,c)&&(b[b.length]=c);return b},w.values=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40709,40737],"range":[40698,40737],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":279,"label":"rappidjs"}');return w.map(a,w.identity)},w.functions=w.methods=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40771,40842],"range":[40760,40842],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":280,"label":"rappidjs"}');var b=[];for(var c in a)w.isFunction(a[c])&&b.push(c);return b.sort()},w.extend=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40863,40934],"range":[40852,40934],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":282,"label":"rappidjs"}');return x(g.call(arguments,1),function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40904,40930],"range":[40893,40930],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":281,"label":"rappidjs"}');for(var c in b)a[c]=b[c]}),a},w.pick=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[40953,41039],"range":[40942,41039],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":284,"label":"rappidjs"}');var b={};return x(w.flatten(g.call(arguments,1)),function(c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41014,41035],"range":[41003,41035],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":283,"label":"rappidjs"}');c in a&&(b[c]=a[c])}),b},w.defaults=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41062,41147],"range":[41051,41147],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":286,"label":"rappidjs"}');return x(g.call(arguments,1),function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41103,41143],"range":[41092,41143],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":285,"label":"rappidjs"}');for(var c in b)a[c]==null&&(a[c]=b[c])}),a},w.clone=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41167,41229],"range":[41156,41229],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":287,"label":"rappidjs"}');return w.isObject(a)?w.isArray(a)?a.slice():w.extend({},a):a},w.tap=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41249,41264],"range":[41236,41264],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":288,"label":"rappidjs"}');return b(a),a},w.isEqual=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41288,41306],"range":[41275,41306],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":289,"label":"rappidjs"}');return A(a,b,[])},w.isEmpty=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41328,41447],"range":[41317,41447],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":290,"label":"rappidjs"}');if(a==null)return!0;if(w.isArray(a)||w.isString(a))return a.length===0;for(var b in a)if(w.has(a,b))return!1;return!0},w.isElement=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41471,41497],"range":[41460,41497],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":291,"label":"rappidjs"}');return!!a&&a.nodeType==1},w.isArray=t||function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41522,41558],"range":[41511,41558],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":292,"label":"rappidjs"}');return i.call(a)=="[object Array]"},w.isObject=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41581,41603],"range":[41570,41603],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":293,"label":"rappidjs"}');return a===Object(a)},w.isArguments=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41629,41669],"range":[41618,41669],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":294,"label":"rappidjs"}');return i.call(a)=="[object Arguments]"},w.isArguments(arguments)||(w.isArguments=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41722,41754],"range":[41711,41754],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":295,"label":"rappidjs"}');return!!a&&!!w.has(a,"callee")}),w.isFunction=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41780,41819],"range":[41769,41819],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":296,"label":"rappidjs"}');return i.call(a)=="[object Function]"},w.isString=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41842,41879],"range":[41831,41879],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":297,"label":"rappidjs"}');return i.call(a)=="[object String]"},w.isNumber=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41902,41939],"range":[41891,41939],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":298,"label":"rappidjs"}');return i.call(a)=="[object Number]"},w.isFinite=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[41962,41997],"range":[41951,41997],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":299,"label":"rappidjs"}');return w.isNumber(a)&&isFinite(a)},w.isNaN=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42017,42031],"range":[42006,42031],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":300,"label":"rappidjs"}');return a!==a},w.isBoolean=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42055,42109],"range":[42044,42109],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":301,"label":"rappidjs"}');return a===!0||a===!1||i.call(a)=="[object Boolean]"},w.isDate=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42130,42165],"range":[42119,42165],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":302,"label":"rappidjs"}');return i.call(a)=="[object Date]"},w.isRegExp=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42188,42225],"range":[42177,42225],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":303,"label":"rappidjs"}');return i.call(a)=="[object RegExp]"},w.isNull=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42246,42263],"range":[42235,42263],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":304,"label":"rappidjs"}');return a===null},w.isUndefined=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42289,42308],"range":[42278,42308],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":305,"label":"rappidjs"}');return a===void 0},w.has=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42328,42348],"range":[42315,42348],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":306,"label":"rappidjs"}');return j.call(a,b)},w.noConflict=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42372,42391],"range":[42362,42391],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":307,"label":"rappidjs"}');return a._=b,this},w.identity=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42414,42424],"range":[42403,42424],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":308,"label":"rappidjs"}');return a},w.times=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42448,42481],"range":[42433,42481],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":309,"label":"rappidjs"}');for(var d=0;d<a;d++)b.call(c,d)},w.escape=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42502,42650],"range":[42491,42650],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":310,"label":"rappidjs"}');return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},w.result=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42673,42743],"range":[42660,42743],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":311,"label":"rappidjs"}');if(a==null)return null;var c=a[b];return w.isFunction(c)?c.call(a):c},w.mixin=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42763,42810],"range":[42752,42810],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":313,"label":"rappidjs"}');x(w.functions(a),function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42792,42808],"range":[42781,42808],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":312,"label":"rappidjs"}');K(b,w[b]=a[b])})};var B=0;w.uniqueId=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[42841,42867],"range":[42830,42867],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":314,"label":"rappidjs"}');var b=B++;return a?a+b:b},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,D={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var E in D)D[D[E]]=E;var F=/\\|'|\r|\n|\t|\u2028|\u2029/g,G=/\\(\\|'|r|n|t|u2028|u2029)/g,H=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43163,43211],"range":[43152,43211],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":316,"label":"rappidjs"}');return a.replace(G,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43196,43209],"range":[43183,43209],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":315,"label":"rappidjs"}');return D[b]})};w.template=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43238,43865],"range":[43223,43865],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":322,"label":"rappidjs"}');c=w.defaults(c||{},w.templateSettings);var d="__p+='"+a.replace(F,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43316,43333],"range":[43305,43333],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":317,"label":"rappidjs"}');return"\\"+D[a]}).replace(c.escape||C,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43368,43404],"range":[43355,43404],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":318,"label":"rappidjs"}');return"'+\n_.escape("+H(b)+")+\n'"}).replace(c.interpolate||C,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43444,43472],"range":[43431,43472],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":319,"label":"rappidjs"}');return"'+\n("+H(b)+")+\n'"}).replace(c.evaluate||C,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43509,43540],"range":[43496,43540],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":320,"label":"rappidjs"}');return"';\n"+H(b)+"\n;__p+='"})+"';\n";c.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+d+"return __p;\n";var e=new Function(c.variable||"obj","_",d);if(b)return e(b,w);var f=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43776,43801],"range":[43765,43801],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":321,"label":"rappidjs"}');return e.call(this,a,w)};return f.source="function("+(c.variable||"obj")+"){\n"+d+"}",f},w.chain=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43885,43906],"range":[43874,43906],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":323,"label":"rappidjs"}');return w(a).chain()};var I=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43924,43941],"range":[43913,43941],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":324,"label":"rappidjs"}');this._wrapped=a};w.prototype=I.prototype;var J=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[43985,44010],"range":[43972,44010],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":325,"label":"rappidjs"}');return b?w(a).chain():a},K=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44026,44137],"range":[44013,44137],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":327,"label":"rappidjs"}');I.prototype[a]=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44052,44136],"range":[44042,44136],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":326,"label":"rappidjs"}');var a=g.call(arguments);return h.call(a,this._wrapped),J(b.apply(w,a),this._chain)}};w.mixin(w),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44221,44385],"range":[44210,44385],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":329,"label":"rappidjs"}');var b=d[a];I.prototype[a]=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44258,44384],"range":[44248,44384],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":328,"label":"rappidjs"}');var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],J(c,this._chain)}}),x(["concat","join","slice"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44426,44520],"range":[44415,44520],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":331,"label":"rappidjs"}');var b=d[a];I.prototype[a]=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44463,44519],"range":[44453,44519],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":330,"label":"rappidjs"}');return J(b.apply(this._wrapped,arguments),this._chain)}}),I.prototype.chain=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44550,44578],"range":[44540,44578],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":332,"label":"rappidjs"}');return this._chain=!0,this},I.prototype.value=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44607,44629],"range":[44597,44629],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":333,"label":"rappidjs"}');return this._wrapped}}.call(this),define("underscore",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44672,44682],"range":[44662,44682],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":335,"label":"rappidjs"}');return _}),define("underscore",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44714,44716],"range":[44704,44716],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":336,"label":"rappidjs"}');}),define("js/core/Binding",["js/core/EventDispatcher","js/lib/parser","underscore"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44815,49710],"range":[44800,49710],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":358,"label":"rappidjs"}');var d=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[44833,44938],"range":[44822,44938],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":337,"label":"rappidjs"}');var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d.type!=h)return!1;b.push(d.name)}return b.join(".")},e,f=a.inherit("js.core.Binding",{defaults:{event:"change",path:null,twoWay:!1},ctor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[45034,45169],"range":[45023,45169],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":338,"label":"rappidjs"}');if(!e)try{e=requirejs("js/core/Bindable")}catch(b){e=null}this.callBase(),this.$=a,c.defaults(this.$,this.defaults),this.initialize()},transform:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[45191,45201],"range":[45180,45201],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":339,"label":"rappidjs"}');return a},transformBack:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[45227,45237],"range":[45216,45237],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":340,"label":"rappidjs"}');return a},initialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[45259,46606],"range":[45249,46606],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":344,"label":"rappidjs"}');this._checkAttributes(),this.$parameters=[],this.$events=[],this.$subBinding=null,this.$.rootScope||(this.$.rootScope=this);var a=this.$.scope;c.isString(this.$.path)&&(this.$.path=b.parse(this.$.path,"path")),this.$.key=this.$.path[0];var d=this;if(this.$.key.type==g){var e=this.$.key.name;this.$parameters=this.$.key.parameter;if(c.isFunction(a[e])){var f=a[e],h=[];if(f._attributes&&f._attributes.length>0)this.$.scope.bind("change",this._changeCallback,this),this.$events.push({eventType:"change",callback:this._changeCallback});else{f._events?h=f._events:h=[];var i,j;for(var k=0;k<h.length;k++)i=h[k],a.bind(i,this._callback,this),this.$events.push({eventType:i,callback:this._callback})}var l=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[45971,45984],"range":[45961,45984],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":341,"label":"rappidjs"}');d.trigger()},m;for(var n=0;n<this.$parameters.length;n++)m=this.$parameters[n],c.isObject(m)&&(this.$parameters[n]=this.$.bindingCreator.create(m,this.$.target,l));this.$.fnc=f,this.$.fnc.trigger=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[46178,46191],"range":[46168,46191],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":342,"label":"rappidjs"}');d.trigger()}}}else this.$.event="change:"+this.$.key.name,this.$events.push({eventType:this.$.event,callback:this._callback}),a.bind(this.$.event,this._callback,this);this.$.twoWay===!0&&this.$.path.length===1&&(this.$.targetEvent="change:"+this.$.targetKey,this.$.target.bind(this.$.targetEvent,this._revCallback,this)),this._createSubBinding(),a.bind("destroy",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[46552,46565],"range":[46542,46565],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":343,"label":"rappidjs"}');d.destroy()}),this.$.path.length===1&&this.trigger()},_checkAttributes:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[46634,47102],"range":[46624,47102],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":345,"label":"rappidjs"}');if(!this.$.path)throw"No path defined!";if(!this.$.scope)throw"No scope defined!";if(this.$.twoWay){if(!this.$.target)throw"TwoWay binding, but no target defined!";if(!this.$.target instanceof e)throw"Target is not a Bindable!";if(!this.$.targetKey)throw"TwoWay binding, but no target key defined!"}this.$.bindingCreator||(this.$.bindingCreator=this),this.$.transform&&(this.transform=this.$.transform),this.$.transformBack&&(this.transformBack=this.$.transformBack)},_createSubBinding:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[47131,47551],"range":[47121,47551],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":346,"label":"rappidjs"}');if(this.$.path.length>1){var a;this.$.fnc?a=this.getValue():a=this.$.scope.$[this.$.key.name],a&&a instanceof e&&(this.$subBinding=new f({scope:a,path:this.$.path.slice(1),target:this.$.target,targetKey:this.$.targetKey,rootScope:this.$.rootScope,callback:this.$.callback,context:this.$.context,twoWay:this.$.twoWay,transform:this.$.transform,transformBack:this.$.transformBack,bindingCreator:this.$.bindingCreator}))}},_revCallback:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[47576,47733],"range":[47565,47733],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":347,"label":"rappidjs"}');if(this.$.fnc){var b=this._getFncParameters();b.unshift(a.$),this.$.fnc.apply(this.$.scope,b)}else this.$.scope.set(d(this.$.path),this.transformBack(a.$))},_changeCallback:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[47761,47884],"range":[47750,47884],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":348,"label":"rappidjs"}');for(var b=0;b<this.$.fnc._attributes.length;b++)if(!c.isUndefined(a.$[this.$.fnc._attributes[b]])){this.trigger();return}},_callback:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[47905,48015],"range":[47895,48015],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":349,"label":"rappidjs"}');this.$subBinding&&(this.$subBinding.destroy(),this.$subBinding=null),this._createSubBinding(),this.trigger()},destroy:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[48034,48389],"range":[48024,48389],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":350,"label":"rappidjs"}');var a;for(var b=0;b<this.$events.length;b++)a=this.$events[b],this.$.scope.unbind(a.eventType,a.callback);this.$.twoWay===!0&&this.$.target.unbind(this.$.targetEvent,this._revCallback),this.$subBinding&&(this.$subBinding.destroy(),delete this.$subBinding);for(var c=0;c<this.$parameters.length;c++){var d=this.$parameters[c];d instanceof f&&d.destroy()}},_getFncParameters:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[48418,48549],"range":[48408,48549],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":351,"label":"rappidjs"}');var a=[];for(var b=0;b<this.$parameters.length;b++){var c=this.$parameters[b];c instanceof f&&(c=c.getValue()),a.push(c)}return a},getValue:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[48569,48750],"range":[48559,48750],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":352,"label":"rappidjs"}');return this.$subBinding?this.$subBinding.getValue():this.$.fnc?this.$.fnc.apply(this.$.scope,this._getFncParameters()):this.$.path.length==1?this.$.scope.get(this.$.key.name):null},getContextValue:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[48777,48875],"range":[48767,48875],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":353,"label":"rappidjs"}');return this.$.context&&this.$.context.length>1?f.contextToString(this.$.context):this.getValue()},trigger:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[48894,49066],"range":[48884,49066],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":354,"label":"rappidjs"}');var a=this.getContextValue();this.$.targetKey?this.$.target.set(this.$.targetKey,this.transform(a)):this.$.callback&&this.$.callback.call(this.$.target,this.transform(a))},toString:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[49086,49110],"range":[49076,49110],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":355,"label":"rappidjs"}');return this.getValue()},create:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[49133,49452],"range":[49118,49452],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":356,"label":"rappidjs"}');var d={scope:this.$.scope,target:b,callback:c,path:a.path,twoWay:a.type===j,bindingCreator:this.$.bindingCreator},e,g;return a.transform&&(e=a.transform.pop(),g=this.get(a.transform),g&&(d.transform=g[e.name])),a.transformBack&&(e=a.transformBack.pop(),g=this.get(a.transform),g&&(d.transformBack=g[e.name])),new f(d)}}),g=f.TYPE_FNC="fnc",h=f.TYPE_VAR="var",i=f.TYPE_STATIC="static",j=f.TYPE_TWOWAY="twoWay";return f.contextToString=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[49579,49707],"range":[49568,49707],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":357,"label":"rappidjs"}');var b="",c;for(var d=0;d<a.length;d++)c=a[d],c instanceof f&&(c=c.getValue()),c!==null&&typeof c!="undefined"&&(b+=c);return b},f}),define("js/core/BindingCreator",["js/core/EventDispatcher","js/lib/parser","js/core/Binding","underscore"],function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[49836,50974],"range":[49819,50974],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":362,"label":"rappidjs"}');function e(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[49852,50068],"range":[49837,50068],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":359,"label":"rappidjs"}');var d=a[0];d.type==c.TYPE_FNC?b=b.getScopeForFncName(d.name):b=b.getScopeForKey(d.name);var e=b;while(e&&a.length>0){d=a.shift();if(d.type==c.TYPE_FNC)return e[d.name];d.type==c.TYPE_VAR&&(e=e.get(d.name))}return!1}return a.inherit("js.core.BindingCreator",{create:function(a,b,f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[50135,50681],"range":[50118,50681],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":360,"label":"rappidjs"}');var h=a.path,i=h[0],j,k=b;i.type!=c.TYPE_FNC&&f==i.name&&(k=k.$parentScope),i.type==c.TYPE_FNC?j=k.getScopeForFncName(i.name):j=k.getScopeForKey(i.name);if(j){if(a.type!=="static"){var l;d.isFunction(f)&&(l=f);var m=a.type==c.TYPE_TWOWAY,n={scope:j,path:h,target:b,twoWay:m,context:g,bindingCreator:this};if(m){if(a.transform){var o=e(a.transform,k);o&&(n.transform=o)}if(a.transformBack){var p=e(a.transformBack,k);p&&(n.transformBack=p)}}return l?n.callback=l:n.targetKey=f,new c(n)}return j.get(a.path)}throw"Couldn't find scope for "+i.name},evaluate:function(a,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[50706,50971],"range":[50691,50971],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":361,"label":"rappidjs"}');if(!d.isString(a))return a;var g=b.parse(a,"text"),h,i=[];for(var j=0;j<g.length;j++){var k=g[j];k.length?g[j]=k:(h=this.create(k,e,f,g),h instanceof c&&i.push(h),g[j]=h)}return i.length>0?i[0].getContextValue():g.length>0?g.length===1?g[0]:c.contextToString(g):a}})}),define("js/core/Bindable",["js/core/EventDispatcher","js/lib/parser","js/core/Binding","underscore"],function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[51094,54166],"range":[51077,54166],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":379,"label":"rappidjs"}');var e=/^(.*)\[(\d+)\]$/,f,g,h=a.inherit("js.core.Bindable",{ctor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[51171,51487],"range":[51160,51487],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":363,"label":"rappidjs"}');this.$eventBindables=[],this.callBase(null),this.$={},d.extend(this._eventAttributes,this.base._eventAttributes||{}),a=a||{};var b=this._defaultAttributes();for(var c in b)b.hasOwnProperty(c)&&(a.hasOwnProperty(c)||(d.isFunction(b[c])?a[c]=new b[c]:a[c]=d.clone(b[c])));this.$=a,this.$previousAttributes=d.clone(a)},defaults:{},_defaultAttributes:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[51529,51577],"range":[51519,51577],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":364,"label":"rappidjs"}');return this._generateDefaultsChain("defaults")},_generateDefaultsChain:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[51612,51684],"range":[51601,51684],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":365,"label":"rappidjs"}');var b=this[a],c=this.base;while(c)d.defaults(b,c[a]),c=c.base;return b},set:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[51704,52285],"range":[51689,52285],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":366,"label":"rappidjs"}');var e={};if(d.isString(a)){var f=a.split(".");if(f.length>1){var g=this.get(f.shift());if(g&&g.set)return g.set(f.join("."),b,c),this}e[a]=b}else c=b,e=a;c=c||{silent:!1,unset:!1};if(c.unset)for(a in e)e.hasOwnProperty(a)&&(e[a]=void 0);var h={},i=this.$,j,k;for(a in e)e.hasOwnProperty(a)&&(j=e[a],c.unset===!0?delete i[a]:d.isEqual(i[a],e[a])||(k=i[a],this.$previousAttributes[a]=k,i[a]=e[a],h[a]=i[a]));this._commitChangedAttributes(h);if(c.silent===!1&&d.size(h)>0){for(a in h)h.hasOwnProperty(a)&&this.trigger("change:"+a,h[a],this);this.trigger("change",h,this)}return this},get:function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[52303,52767],"range":[52290,52767],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":367,"label":"rappidjs"}');c||(c=a,a=this);if(!c)return null;var e;d.isArray(c)?e=c:d.isObject(c)?e=[c]:e=b.parse(c,"path");var f;while(a&&e.length>0){f=e.shift();if(f.type=="fnc"){var g=a[f.name],i=f.parameter;for(var j=0;j<i.length;j++){var k=i[j];d.isObject(k)&&(k.type="static",i[j]=this.get(k.path))}a=g.apply(a,i)}else f.type=="var"&&(a instanceof h?e.length===0?a=a.$[f.name]:a=a.get(f.name):a=a[f.name]);a&&f.index!==""&&(d.isArray(a)?a=a[f.index]:a.at&&(a=a.at(f.index)))}return a},has:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[52783,52818],"range":[52772,52818],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":368,"label":"rappidjs"}');return!d.isUndefined(this.get(a))},_commitChangedAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[52855,52857],"range":[52844,52857],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":369,"label":"rappidjs"}');},unset:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[52877,52924],"range":[52864,52924],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":370,"label":"rappidjs"}');return(b||(b={})).unset=!0,this.set(a,null,b)},clear:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[52941,52977],"range":[52931,52977],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":371,"label":"rappidjs"}');return this.set(this.$,{unset:!0})},bind:function(a,b,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[53000,53279],"range":[52983,53279],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":372,"label":"rappidjs"}');if(b instanceof Function&&d.isString(a))return this.callBase(a,b,e);d.isArray(a)&&a.length>0&&(f=e,e=b,b=a[1],a=a[2]);var g=new i({path:a,event:b,scope:f,callback:e,value:null});g.set("binding",new c({path:a,scope:this,target:g,targetKey:"value"})),this.$eventBindables.push(g)},unbind:function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[53304,53546],"range":[53287,53546],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":373,"label":"rappidjs"}');if(b instanceof Function)this.callBase(a,b,c);else{var e;for(var f=this.$eventBindables.length-1;f>=0;f--)e=this.$eventBindables[f],e.$.scope===d&&e.$.path===a&&e.$.event===b&&e.$.callback===c&&(e.destroy(),this.$eventBindables.slice(f,1))}},destroy:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[53565,53703],"range":[53555,53703],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":374,"label":"rappidjs"}');this.callBase();for(var a=0;a<this.$eventBindables.length;a++)this.$eventBindables[a].destroy();return this.trigger("destroy",this),this}}),i=h.inherit({_commitChangedAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[53755,53871],"range":[53744,53871],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":375,"label":"rappidjs"}');this.callBase(),this._unbindEvent(this.$previousAttributes.value),d.isUndefined(a.value)||this._bindEvent(a.value)},_unbindEvent:function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[53896,53968],"range":[53885,53968],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":376,"label":"rappidjs"}');b&&b instanceof a&&b.unbind(this.$.event,this.$.callback,this.$.scope)},_bindEvent:function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[53991,54061],"range":[53980,54061],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":377,"label":"rappidjs"}');b&&b instanceof a&&b.bind(this.$.event,this.$.callback,this.$.scope)},destroy:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[54080,54154],"range":[54070,54154],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":378,"label":"rappidjs"}');this._unbindEvent(this.$.value),this.$.binding.destroy(),this.callBase()}});return h}),define("js/core/Element",["js/core/Bindable","underscore","js/core/BindingCreator"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[54267,56618],"range":[54252,56618],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":396,"label":"rappidjs"}');function f(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[54281,54394],"range":[54268,54394],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":380,"label":"rappidjs"}');if(b.isString(a)){var c=Number(a);if(!isNaN(c))return c;if(a==="true")return!0;if(a==="false")return!1}return a}var d,e=new c,g=a.inherit("js.core.Element",{ctor:function(a,b,c,f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[54463,54767],"range":[54444,54767],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":381,"label":"rappidjs"}');a=a||{},b||g||(g=this),this.$descriptor=b,this.$systemManager=c,this.$parentScope=f||null,this.$rootScope=g||null,this.$attributesNamespace=this.$attributesNamespace||{},this.$bindingCreator=e,this.callBase(a),this._initializeAttributes(this.$),(b===d||b===null)&&this._initialize(this.$creationPolicy)},_getAttributesFromDescriptor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[54808,55112],"range":[54797,55112],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":382,"label":"rappidjs"}');this.$attributesNamespace=this.$attributesNamespace||{};var b={};if(a&&a.attributes){var c,d;for(var e=0;e<a.attributes.length;e++)c=a.attributes[e],c.nodeName.indexOf("xmlns")!==0&&(d=this._getLocalNameFromNode(c),b[d]=f(c.value),c.namespaceURI&&(this.$attributesNamespace[d]=c.namespaceURI))}return b},_getLocalNameFromNode:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55146,55202],"range":[55135,55202],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":383,"label":"rappidjs"}');return a.localName?a.localName:a.name.split(":").pop()},defaults:{creationPolicy:"auto"},_initializeAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55269,55271],"range":[55258,55271],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":384,"label":"rappidjs"}');},_initializeDescriptors:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55305,55307],"range":[55295,55307],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":385,"label":"rappidjs"}');},_initialize:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55333,55487],"range":[55320,55487],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":386,"label":"rappidjs"}');if(this.$initialized)return;this._preinitialize(),this.initialize(),this._initializeDescriptors(),(this==this.$rootScope||b)&&this._initializeBindings()},_initializeBindings:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55518,55550],"range":[55508,55550],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":387,"label":"rappidjs"}');this._initializationComplete()},initialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55572,55574],"range":[55562,55574],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":388,"label":"rappidjs"}');},find:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55591,55671],"range":[55580,55671],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":389,"label":"rappidjs"}');var b=this.getScopeForKey(a);return this===b?this.get(a):b!=null?b.get(a):null},getScopeForKey:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55698,55803],"range":[55687,55803],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":390,"label":"rappidjs"}');var c=this.$[a];return b.isUndefined(c)?this.$parentScope?this.$parentScope.getScopeForKey(a):null:this},getScopeForFncName:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55834,55958],"range":[55823,55958],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":391,"label":"rappidjs"}');var c=this[a];return!b.isUndefined(c)&&b.isFunction(c)?this:this.$parentScope?this.$parentScope.getScopeForFncName(a):null},_preinitialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[55984,55986],"range":[55974,55986],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":392,"label":"rappidjs"}');},_initializationComplete:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[56021,56081],"range":[56011,56081],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":393,"label":"rappidjs"}');this._commitChangedAttributes(this.$),this.$initialized=!0},_getTextContentFromDescriptor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[56123,56316],"range":[56112,56316],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":394,"label":"rappidjs"}');var b=a.textContent||a.text||a.data;if(!b){b="";for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];if(d.nodeType==1||d.nodeType==4)b+=this._getTextContentFromDescriptor(d)}}return b}});return g.xmlStringToDom=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[56354,56615],"range":[56343,56615],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":395,"label":"rappidjs"}');if(window&&window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml").documentElement;if(typeof ActiveXObject!="undefined"){var b=new ActiveXObject("Microsoft.XMLDOM");return b.async=!1,b.loadXML(a),b.documentElement}throw"Couldn't parse xml string"},g}),define("js/core/TextElement",["js/core/Element","underscore"],function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[56695,57424],"range":[56682,57424],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":402,"label":"rappidjs"}');return a.inherit("js.core.TextElement",{_initializeBindings:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[56766,56875],"range":[56756,56875],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":397,"label":"rappidjs"}');this.$.textContent=this.$bindingCreator.evaluate(this.$.textContent||"",this,"textContent"),this.callBase()},_initializeDescriptors:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[56909,57002],"range":[56899,57002],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":398,"label":"rappidjs"}');this.$descriptor&&(this.$.textContent=this._getTextContentFromDescriptor(this.$descriptor))},render:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[57020,57197],"range":[57010,57197],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":399,"label":"rappidjs"}');return this.$initialized||this._initialize(this.$creationPolicy),this.$el=this.$systemManager.$document.createTextNode(""),this._renderTextContent(this.$.textContent),this.$el},_renderTextContent:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[57228,57302],"range":[57217,57302],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":400,"label":"rappidjs"}');if(b.isUndefined(this.$.textContent)||a===null)a="";this.$el.nodeValue=a},_commitChangedAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[57339,57421],"range":[57328,57421],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":401,"label":"rappidjs"}');this.$el&&(b.isUndefined(a.textContent)||this._renderTextContent(a.textContent))}})}),define("js/core/Component",["require","js/core/Element","js/core/TextElement","js/core/Bindable","js/core/EventDispatcher","underscore"],function(a,b,c,d,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[57584,62729],"range":[57563,62729],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":428,"label":"rappidjs"}');var g,h,i=b.inherit("js.core.Component",{ctor:function(b,c,d,e,i){instrumentation_log('{"type":"FunctionExpression","bodyRange":[57650,58353],"range":[57631,58353],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":403,"label":"rappidjs"}');if(f.isUndefined(g))try{g=a("js/core/Template")}catch(j){g=null}if(f.isUndefined(h))try{h=a("js/conf/Configuration")}catch(j){h=null}this.$eventDefinitions=[],this.$internalDescriptors=[],this.$xamlDefaults={},this.$xamlAttributes={};var k=this,l;while(k)k._$descriptor&&l!=k&&(this._cleanUpDescriptor(k._$descriptor),this.$internalDescriptors.unshift(k._$descriptor),f.extend(this.$xamlDefaults,this._getAttributesFromDescriptor(k._$descriptor))),k=k.base;c&&(this._cleanUpDescriptor(c),this.$xamlAttributes=this._getAttributesFromDescriptor(c)),this.$elements=[],this.$templates={},this.$configurations=[],this.$children=[],b=b||{},f.extend(b,this.$xamlAttributes,this.$xamlDefaults),this.callBase()},events:[],inject:{},_injectChain:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[58397,58443],"range":[58387,58443],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":404,"label":"rappidjs"}');return this._generateDefaultsChain("inject")},_preinitialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[58469,58501],"range":[58459,58501],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":405,"label":"rappidjs"}');this.callBase(),this._inject()},_inject:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[58520,58730],"range":[58510,58730],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":406,"label":"rappidjs"}');var a=this._injectChain();if(f.keys(a).length>0){var b=this.$systemManager.$injection;if(!b)throw"injection not available in systemManager";for(var c in a)a.hasOwnProperty(c)&&(this.$[c]=b.getInstance(a[c]))}},addChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[58751,59072],"range":[58740,59072],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":407,"label":"rappidjs"}');if(!(a instanceof b))throw"only children of type js.core.Component can be added";this.$creationPolicy=="auto"&&a._initialize(this.$creationPolicy),a.$rootScope&&a.$.cid&&a.$rootScope.set(a.$.cid,a),a.$parent=this,this.$elements.push(a),g&&a instanceof g?this._addTemplate(a):h&&a instanceof h&&this._addConfiguration(a)},removeChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[59096,59406],"range":[59085,59406],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":408,"label":"rappidjs"}');if(!(a instanceof b))throw"only children of type js.core.Component can be removed";var c=this.$elements.indexOf(a);c!=-1&&(a.$parent=null,this.$elements.splice(c,1)),this.$templates.hasOwnProperty(a.$.name)&&delete this.$templates[a.$.name],c=this.$elements.indexOf(a),c!=-1&&this.$configurations.splice(c,1)},_addTemplate:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[59431,59502],"range":[59420,59502],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":409,"label":"rappidjs"}');if(!a.$.name)throw"template without name";this.$templates[a.$.name]=a},_addConfiguration:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[59532,59562],"range":[59521,59562],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":410,"label":"rappidjs"}');this.$configurations.push(a)},getTemplate:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[59586,59689],"range":[59575,59689],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":411,"label":"rappidjs"}');var b=this.$templates[a];return b?b:this.$parent&&this.$parent!=this?this.$parent.getTemplate(a):null},_initializeChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[59721,59769],"range":[59710,59769],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":412,"label":"rappidjs"}');for(var b=0;b<a.length;b++)this.addChild(a[b])},_initializeAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[59803,59950],"range":[59792,59950],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":413,"label":"rappidjs"}');this.callBase(),this.$creationPolicy!="full"&&a.hasOwnProperty("creationPolicy")&&(this.$creationPolicy=a.creationPolicy,delete a.creationPolicy)},_initializeDescriptors:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[59984,60375],"range":[59974,60375],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":414,"label":"rappidjs"}');var a=[],b;for(var c=0;c<this.$internalDescriptors.length;c++)b=this.$internalDescriptors[c],a=a.concat(this._getChildrenFromDescriptor(b,this));a=a.concat(this._getChildrenFromDescriptor(this.$descriptor)),this._initializeChildren(a),this._childrenInitialized(),this._initializeEventAttributes(this.$xamlDefaults,this),this._initializeEventAttributes(this.$xamlAttributes,this.$rootScope)},_cleanUpDescriptor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[60406,60647],"range":[60395,60647],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":415,"label":"rappidjs"}');if(a&&a.childNodes){var b,c;for(var d=a.childNodes.length-1;d>=0;d--)b=a.childNodes[d],b.nodeType===3&&(c=b.textContent||b.text||b.data,(!c||c.trim().length===0)&&a.removeChild(b))}else console.warn("Descriptor not defined or not correct")},_isEventAttribute:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[60677,60704],"range":[60666,60704],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":416,"label":"rappidjs"}');return a.indexOf("on")==0},_isComponentEvent:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[60734,60811],"range":[60723,60811],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":417,"label":"rappidjs"}');for(var b=0;b<this.events.length;b++)if(a==this.events[b])return!0;return!1},_getEventTypeForAttribute:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[60849,60882],"range":[60838,60882],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":418,"label":"rappidjs"}');return this._eventAttributes[a]},_initializeEventAttributes:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[60923,61193],"range":[60910,61193],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":419,"label":"rappidjs"}');var c="";for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if(this._isEventAttribute(d)){if(!b[e])throw"Couldn't find callback "+e+" for "+d+" event";this.$eventDefinitions.push({name:d,scope:b,fncName:e}),c=d.substr(2),this._isComponentEvent(c)&&this.bind(c,b[e],b)}}},_initializeBindings:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[61224,61431],"range":[61214,61431],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":420,"label":"rappidjs"}');var a=this.$,b;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this.$[c]=this.$bindingCreator.evaluate(b,this,c));for(var d=0;d<this.$elements.length;d++)this.$elements[d]._initializeBindings();this.callBase()},_createComponentForNode:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[61471,62053],"range":[61456,62053],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":421,"label":"rappidjs"}');if(!a)return null;b=b||{},c=c||this.$rootScope;var d=this.$systemManager.$applicationDomain;if(a.nodeType==1){var e=this.$systemManager.$applicationContext.getFqClassName(a.namespaceURI,this._localNameFromDomNode(a),!0),f=this.$systemManager.$applicationContext.getFqClassName(a.namespaceURI,this._localNameFromDomNode(a),!1);return this.$systemManager.$applicationContext.createInstance(e,[b,a,this.$systemManager,this,c],f)}if(a.nodeType==3||a.nodeType==4){var g=a.textContent?a.textContent:a.text;return a.textContent&&(a.textContent=g),this._createTextElement(a,c)}return null},createComponent:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62083,62207],"range":[62070,62207],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":422,"label":"rappidjs"}');return b=b||[],this.$systemManager.$applicationContext.createInstance(a,[b,null,this.$systemManager,this,this.$rootScope])},_createTextElement:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62240,62362],"range":[62227,62362],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":423,"label":"rappidjs"}');return this.$systemManager.$applicationContext.createInstance("js/core/TextElement",[null,a,this.$systemManager,this,b])},_getChildrenFromDescriptor:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62403,62541],"range":[62390,62541],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":424,"label":"rappidjs"}');var c=[],d,e;if(a)for(var f=0;f<a.childNodes.length;f++)d=a.childNodes[f],e=this._createComponentForNode(d,null,b),e&&c.push(e);return c},_childrenInitialized:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62573,62575],"range":[62563,62575],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":425,"label":"rappidjs"}');},initialize:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62598,62600],"range":[62587,62600],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":426,"label":"rappidjs"}');},_localNameFromDomNode:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62634,62717],"range":[62623,62717],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":427,"label":"rappidjs"}');if(a.localName)return a.localName;var b=a.tagName.split(":");return b[b.length-1]}});return i}),define("js/core/Content",["require","js/core/Component"],function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62801,62992],"range":[62788,62992],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":430,"label":"rappidjs"}');return b.inherit("js.core.Content",{getChildren:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[62860,62989],"range":[62850,62989],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":429,"label":"rappidjs"}');var b,c=[];for(var d=0;d<this.$elements.length;d++)b=this.$elements[d],b instanceof a("js/html/DomElement")&&c.push(b);return c}})}),define("js/html/DomElement",["require","js/core/EventDispatcher","js/core/Component","js/core/Content","js/core/Binding","inherit","underscore"],function(a,b,c,d,e,f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[63162,70154],"range":[63139,70154],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":470,"label":"rappidjs"}');var h=/\s+/,i=["click","dblclick","keyup","keydown","change"],j,k={$classAttributes:[/^\$/,/^data/,/^xmlns/,/^on/,"cid",/^_/],ctor:function(a,b,c,d,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[63313,63634],"range":[63294,63634],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":431,"label":"rappidjs"}');this.$renderMap={},this.$children=[],this.$contentChildren=[],this.$domEventHandler={};var f=this;while(f)f.$classAttributes&&(this.$classAttributes=this.$classAttributes.concat(f.$classAttributes)),f=f.base;this.callBase(),b&&(this.$tagName||(this.$tagName=b.tagName),this.$namespace||(this.$namespace=b.namespaceURI))},_inject:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[63653,63762],"range":[63643,63762],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":432,"label":"rappidjs"}');this.callBase();var a=this._injectChain();for(var b in a)a.hasOwnProperty(b)&&this.$classAttributes.push(b)},_initializeAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[63796,63867],"range":[63785,63867],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":433,"label":"rappidjs"}');this.callBase(),a.tagName&&(this.$tagName=a.tagName,delete a.tagName)},addChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[63888,64041],"range":[63877,64041],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":434,"label":"rappidjs"}');this.callBase(),a instanceof n||a.render?(this.$children.push(a),this.isRendered()&&this._renderChild(a)):a instanceof d&&this.$contentChildren.push(a)},removeChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[64065,64219],"range":[64054,64219],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":435,"label":"rappidjs"}');this.callBase();if(a instanceof n||a.render){this.isRendered()&&this._removeRenderedChild(a);var b=this.$children.indexOf(a);this.$children.splice(b,1)}},getPlaceHolder:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[64246,64487],"range":[64235,64487],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":436,"label":"rappidjs"}');for(var b=0;b<this.$children.length;b++)if(this.$children[b].$.name===a)return this.$children[b];var c;for(b=0;b<this.$children.length;b++)if(this.$children[b].getPlaceHolder){c=this.$children[b].getPlaceHolder(a);if(c)return c}return null},remove:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[64505,64551],"range":[64495,64551],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":437,"label":"rappidjs"}');this.$parent&&this.$parent.removeChild(this)},getContentPlaceHolders:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[64585,64788],"range":[64575,64788],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":438,"label":"rappidjs"}');j||(j=a("js/ui/ContentPlaceHolder"));var b=[],c;for(var d=0;d<this.$children.length;d++)c=this.$children[d],j&&c instanceof j?b.push(c):c instanceof n&&(b=b.concat(c.getContentPlaceHolders()));return b},findContent:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[64812,65044],"range":[64801,65044],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":439,"label":"rappidjs"}');var b,c;for(var e=0;e<this.$elements.length;e++){b=this.$elements[e];if(b instanceof d&&b.$.name===a)return b}for(e=0;e<this.$elements.length;e++){b=this.$elements[e];if(b.findContent){c=b.findContent(a);if(c)return c}}return null},render:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[65062,65624],"range":[65052,65624],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":440,"label":"rappidjs"}');return this.$initialized||this._initialize(this.$creationPolicy),this.isRendered()?this.$el:(this.$renderedChildren=[],this.$systemManager.$document.createElementNS&&this.$namespace&&/^http/.test(this.$namespace)?this.$el=this.$systemManager.$document.createElementNS(this.$namespace,this.$tagName):this.$el=this.$systemManager.$document.createElement(this.$tagName),this._initializeRenderer(this.$el),this._renderChildren(this.$children),this._renderContentChildren(this.$contentChildren),this._renderAttributes(this.$),this._bindDomEvents(this.$el),this.$el)},_bindDomEvents:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[65651,65834],"range":[65640,65834],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":441,"label":"rappidjs"}');var b,c;for(var d=0;d<this.$eventDefinitions.length;d++)b=this.$eventDefinitions[d],c=b.name.substr(2),this._isComponentEvent(c)||this.addEventListener(c,b.scope[b.fncName],b.scope)},_initializeRenderer:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[65866,65868],"range":[65855,65868],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":442,"label":"rappidjs"}');},_renderChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[65896,65958],"range":[65885,65958],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":443,"label":"rappidjs"}');var b;for(var c=0;c<a.length;c++)b=a[c],this._renderChild(b)},_renderContentChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[65993,66102],"range":[65982,66102],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":444,"label":"rappidjs"}');var b;for(var c=0;c<a.length;c++){b=a[c];var d=b.get("ref"),e=this.getPlaceHolder(d);e&&e.set({content:b})}},_renderChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[66127,66231],"range":[66116,66231],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":445,"label":"rappidjs"}');if(g.isFunction(a.render)){var b=a.render();this.$renderedChildren.push(a),b&&this.$el.appendChild(b)}},_removeRenderedChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[66264,66456],"range":[66253,66456],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":446,"label":"rappidjs"}');if(this.isRendered()){var b;for(var c=this.$renderedChildren.length-1;c>=0;c--){b=this.$renderedChildren[c];if(a===b){this.$el.removeChild(b.$el),this.$renderedChildren.splice(c,1);return}}}},_clearRenderedChildren:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[66490,66652],"range":[66480,66652],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":447,"label":"rappidjs"}');if(this.isRendered()){var a;for(var b=this.$renderedChildren.length-1;b>=0;b--)a=this.$renderedChildren[b],this.$el.removeChild(a.$el)}this.$renderedChildren=[]},_getIndexOfPlaceHolder:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[66687,66841],"range":[66676,66841],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":448,"label":"rappidjs"}');if(this.$layoutTpl){var b;for(var c=0;c<this.$layoutTpl.$children.length;c++){b=this.$layoutTpl.$children[c];if(placeHolderId==b.$cid)return c}}return-1},isRendered:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[66863,66900],"range":[66853,66900],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":449,"label":"rappidjs"}');return typeof this.$el!="undefined"},_renderAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[66930,67009],"range":[66919,67009],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":450,"label":"rappidjs"}');var b;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this._renderAttribute(c,b))},_renderAttribute:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[67040,67432],"range":[67027,67432],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":451,"label":"rappidjs"}');var c=this.$renderMap[a],d=this.$previousAttributes[a];if(g.isUndefined(c)){var e=a.charAt(0).toUpperCase()+a.substr(1),f="_render"+e;c=this[f],g.isFunction(c)||(c=!1),this.$renderMap[a]=c}if(c!==!1)c.call(this,b,d);else{var h;for(var i=0;i<this.$classAttributes.length;i++){h=this.$classAttributes[i];if(h instanceof RegExp){if(h.test(a))return}else if(h==a)return}this._setAttribute(a,b)}},_setAttribute:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[67462,67602],"range":[67447,67602],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":452,"label":"rappidjs"}');g.isUndefined(b)||(c=c||this.$attributesNamespace[a],this.$el.setAttributeNS&&c?this.$el.setAttributeNS(c,a,b):this.$el.setAttribute(a,b))},_commitChangedAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[67639,67685],"range":[67628,67685],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":453,"label":"rappidjs"}');this.isRendered()&&this._renderAttributes(a)},destroy:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[67704,67807],"range":[67694,67807],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":454,"label":"rappidjs"}');this.callBase();if(this.$children)for(var a=0;a<this.$children.length;a++)this.$children[a].destroy()},html:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[67823,67883],"range":[67813,67883],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":455,"label":"rappidjs"}');return this.isRendered()||this.render(),this.$el.innerHTML}.on("change"),dom:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[67912,67935],"range":[67901,67935],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":456,"label":"rappidjs"}');return new m(a||this)},setChildIndex:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[67963,68353],"range":[67950,68353],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":457,"label":"rappidjs"}');b<0&&(b+=this.$children.length),b>=this.$children.length&&(b-=this.$children.length);var c=this.$children.indexOf(a);c!==b&&(this.$children.splice(c,1),this.$children.splice(b,0,a),this.isRendered()&&a.isRendered()&&this.$renderedChildren.length>1&&(this.$el.removeChild(a.$el),b<this.$el.childNodes.length?this.$el.insertBefore(a.$el,this.$el.childNodes[b]):this.$el.appendChild(a.$el)))},bringToFront:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[68377,68457],"range":[68367,68457],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":458,"label":"rappidjs"}');this.$parent&&this.$parent.setChildIndex(this,this.$parent.$children.length-1)},sendToBack:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[68479,68529],"range":[68469,68529],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":459,"label":"rappidjs"}');this.$parent&&this.$parent.setChildIndex(this,0)}},l={hasClass:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[68554,68608],"range":[68543,68608],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":460,"label":"rappidjs"}');return this.$el.className.split(" "+a+" ").length!=1},addClass:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[68629,68837],"range":[68618,68837],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":461,"label":"rappidjs"}');var b=a.split(h);if(!this.$el.className&&b.length===1)this.$el.className=a;else{var c=this.$el.className.split(h);for(var d=0;d<b.length;d++)c.indexOf(b[d])==-1&&c.push(b[d]);this.$el.className=c.join(" ")}},removeClass:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[68861,69119],"range":[68850,69119],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":462,"label":"rappidjs"}');if(!this.$el.className||this.$el.className.length===0)return;var b=a.split(h),c=this.$el.className.split(h);for(var d=0;d<b.length;d++){var e=c.indexOf(b[d]);e!=-1&&c.splice(e,1)}c.length===0?this.$el.removeAttribute("class"):this.$el.className=c.join(" ")},addEventListener:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[69152,69456],"range":[69137,69456],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":464,"label":"rappidjs"}');var d=this;this.bind(a,b,c);if(!this.$domEventHandler[a]){var e=this.$domEventHandler[a]=function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[69253,69341],"range":[69242,69341],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":463,"label":"rappidjs"}');var c=new n.Event(b);try{d.trigger(a,c,d)}catch(c){}if(c.isPropagationStopped)return!1};this.$el.addEventListener?this.$el.addEventListener(a,e,!1):this.$el.attachEvent&&this.$el.attachEvent("on"+a,e)}},removeEventListener:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[69492,69709],"range":[69477,69709],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":465,"label":"rappidjs"}');this.unbind(a,b,c);var d=this._eventHandlers[a];if(d.length===0){var e=this.$domEventHandler[a];this.$el.removeEventListener?this.$el.removeEventListener(a,e,!1):this.$el.detachEvent&&this.$el.detachEvent("on"+a,e)}}},m=f.Base.inherit(g.extend({ctor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[69754,69766],"range":[69743,69766],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":466,"label":"rappidjs"}');this.$el=a}},l)),n=c.inherit("js.html.DomElement",g.extend(k,l));return n.Event=b.Event.inherit({ctor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[69868,69902],"range":[69857,69902],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":467,"label":"rappidjs"}');this.domEvent=a,this.callBase(a)},stopPropagation:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[69929,70028],"range":[69919,70028],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":468,"label":"rappidjs"}');this.callBase();var a=this.domEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},preventDefault:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70054,70149],"range":[70044,70149],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":469,"label":"rappidjs"}');this.callBase();var a=this.domEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}),n}),define("js/html/HtmlElement",["js/html/DomElement"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70219,70981],"range":[70208,70981],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":478,"label":"rappidjs"}');return a.inherit("js/html/HtmlElement",{defaults:{selected:undefined,selectable:undefined},_renderVisible:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70337,70400],"range":[70326,70400],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":471,"label":"rappidjs"}');a===!0?this.removeClass("hide"):a===!1&&this.addClass("hide")},_renderHidden:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70426,70473],"range":[70415,70473],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":472,"label":"rappidjs"}');typeof a!="undefined"&&this.set({visible:!a})},_renderSelected:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70501,70568],"range":[70490,70568],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":473,"label":"rappidjs"}');a===!0?this.addClass("active"):a===!1&&this.removeClass("active")},_renderSelectable:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70598,70808],"range":[70587,70808],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":475,"label":"rappidjs"}');if(a===!0){if(!this._onSelect){var b=this;this._onSelect=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70666,70699],"range":[70656,70699],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":474,"label":"rappidjs"}');b.set({selected:!b.$.selected})}}this.addEventListener("click",this._onSelect)}else this._onSelect&&this.removeEvent("click",this._onSelect)},_renderWidth:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70833,70892],"range":[70822,70892],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":476,"label":"rappidjs"}');a&&(typeof a!="string"&&(a+="px"),this.$el.style.width=a)},_renderHeight:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[70918,70978],"range":[70907,70978],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":477,"label":"rappidjs"}');a&&(typeof a!="string"&&(a+="px"),this.$el.style.height=a)}})}),define("js/core/UIComponent",["js/html/HtmlElement"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71047,71115],"range":[71036,71115],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":479,"label":"rappidjs"}');return a.inherit("js.core.UIComponent",{defaults:{tagName:"div"}})}),function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71128,74110],"range":[71117,74110],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":513,"label":"rappidjs"}');var b=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71146,71185],"range":[71135,71185],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":480,"label":"rappidjs"}');this.$context=a||{actions:[],vars:{}}},c=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71198,71212],"range":[71188,71212],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":481,"label":"rappidjs"}');return new b};b.prototype.seq=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71242,71676],"range":[71229,71676],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":487,"label":"rappidjs"}');a instanceof Function&&(b=a,a=null);if(!b)throw"Sequence action not defined";var c=this;return this.$context.actions.push(function(d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71376,71669],"range":[71365,71669],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":486,"label":"rappidjs"}');var e=!1,f=!1,g=function(b,e,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71408,71463],"range":[71393,71463],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":482,"label":"rappidjs"}');!b&&a&&(c.$context.vars[a]=e);if(f)return;f=!0,d(b,g)},h=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71479,71490],"range":[71466,71490],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":483,"label":"rappidjs"}');g(a,b,!1)};h.vars=c.$context.vars;if(b.length){h.end=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71546,71557],"range":[71533,71557],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":484,"label":"rappidjs"}');g(a,b,!0)};try{b.call(h,h)}catch(i){g(i,null)}}else{h.end=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71615,71621],"range":[71605,71621],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":485,"label":"rappidjs"}');e=!0};try{g(null,b.call(h),e)}catch(i){g(i,null,e)}}}),this};var d=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71696,72013],"range":[71683,72013],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":493,"label":"rappidjs"}');if(!b)throw"Parallel action not defined";return function(c,d,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71762,72012],"range":[71745,72012],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":492,"label":"rappidjs"}');var g=!1,h=function(b,d,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71789,71815],"range":[71774,71815],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":488,"label":"rappidjs"}');!b&&a&&(e[a]=d),f(c,b,g)},i=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71831,71842],"range":[71818,71842],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":489,"label":"rappidjs"}');h(a,b,!1)};i.vars=d.vars;if(b.length){i.end=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71889,71900],"range":[71876,71900],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":490,"label":"rappidjs"}');h(a,b,!0)};try{b.call(i,i)}catch(j){h(j,null)}}else{i.end=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[71958,71964],"range":[71948,71964],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":491,"label":"rappidjs"}');g=!0};try{h(null,b.call(i),g)}catch(j){h(j,null,g)}}}};b.prototype.par=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[72041,72817],"range":[72030,72817],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":497,"label":"rappidjs"}');if(arguments.length>1)return this.par(Array.prototype.slice.call(arguments)),this;var b=this,c,e;if(a){var f=[];if(a instanceof Array)for(c=0;c<a.length;c++){var g=a[c];f.push(new d(null,g))}else if(a instanceof Function)this.par([a]);else for(e in a)a.hasOwnProperty(e)&&f.push(new d(e,a[e]));f.length>0&&this.$context.actions.push(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[72386,72803],"range":[72375,72803],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":496,"label":"rappidjs"}');(function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[72401,72796],"range":[72388,72796],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":495,"label":"rappidjs"}');var d={},e,f=function(e,f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[72430,72727],"range":[72415,72727],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":494,"label":"rappidjs"}');var h;if(!c)return;if(f||g){var i=c;c=null,i(f,g)}else{var j=a.indexOf(e);if(!(j>=0&&j<a.length)){c("Parallel function returned which wasn't part of this parallel actions"),c=null;return}a.splice(j,1);if(a.length===0){for(h in d)d.hasOwnProperty(h)&&(b.$context.vars[h]=d[h]);c(null,!1),c=null}}},g=a.slice();for(e=0;e<g.length;e++){var h=g[e];h(h,b.$context,d,f)}})(f,a)})}return this},b.prototype.parEach=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[72851,73203],"range":[72838,73203],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":501,"label":"rappidjs"}');function e(a,e){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[72867,72969],"range":[72852,72969],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":500,"label":"rappidjs"}');c&&(e=a,a=null);var f;b.length>=2?f=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[72915,72923],"range":[72904,72923],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":498,"label":"rappidjs"}');b(e,a)}:f=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[72936,72949],"range":[72926,72949],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":499,"label":"rappidjs"}');return b(e)},c?d.push(f):d[a]=f}a=a||[];if(b instanceof Function){var c=a instanceof Array,d=c?[]:{};if(c)for(var f=0;f<a.length;f++)e(a[f]);else for(var g in a)a.hasOwnProperty(g)&&e(g,a[g]);return this.par(d)}throw"2nd argument for parEach needs to be a function"},b.prototype.seqEach=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[73237,73528],"range":[73224,73528],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":505,"label":"rappidjs"}');function d(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[73251,73327],"range":[73238,73327],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":504,"label":"rappidjs"}');var d;b.length>=2?d=function(c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[73283,73291],"range":[73272,73291],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":502,"label":"rappidjs"}');b(a,c)}:d=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[73304,73317],"range":[73294,73317],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":503,"label":"rappidjs"}');return b(a)},c.seq(d)}a=a||[];if(a instanceof Array){if(b instanceof Function){var c=this;for(var e=0;e<a.length;e++)d(a[e]);return this}throw"2nd argument for parEach needs to be a function"}throw"values must be an array"},b.prototype.exec=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[73557,73826],"range":[73546,73826],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":510,"label":"rappidjs"}');function d(a,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[73573,73646],"range":[73558,73646],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":506,"label":"rappidjs"}');try{c(a,d)}catch(e){if(b.errorHandler)try{b.errorHandler(e)}catch(e){}}}function e(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[73659,73783],"range":[73646,73783],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":508,"label":"rappidjs"}');a<b.$context.actions.length?b.$context.actions[a](function(c,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[73723,73757],"range":[73710,73757],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":507,"label":"rappidjs"}');c||f?d(c,b.$context.vars):e(a+1)}):d(null,b.$context.vars)}var b=this,c=function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[73809,73820],"range":[73796,73820],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":509,"label":"rappidjs"}');a&&a(b,c)};e(0)};if(typeof console!="undefined"&&console){var e=console.warn||console.log;e instanceof Function&&(b.prototype.errorHandler=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[73960,74034],"range":[73949,74034],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":511,"label":"rappidjs"}');a instanceof Error?e.call(console,[a.message,a.stack]):e.call(console,a)})}var f=a.flow;c.noConflict=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74072,74091],"range":[74062,74091],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":512,"label":"rappidjs"}');return a.flow=f,c},a.flow=c,a.Flow=b}(typeof exports=="undefined"?this:exports),define("flow",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74177,74190],"range":[74167,74190],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":514,"label":"rappidjs"}');return flow}),define("flow",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74216,74218],"range":[74206,74218],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":515,"label":"rappidjs"}');}),define("js/core/History",["js/core/Bindable","flow"],function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74286,76157],"range":[74273,76157],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":527,"label":"rappidjs"}');var c=/^#?!?\/?/,d,e=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74318,74320],"range":[74308,74320],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":516,"label":"rappidjs"}');};return a.inherit("js.core.History",{ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74372,74442],"range":[74362,74442],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":517,"label":"rappidjs"}');this.callBase(),this.$routers=[],this.processUrl=!0,this.$history=[]},defaults:{interval:50},getFragment:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74488,74626],"range":[74478,74626],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":518,"label":"rappidjs"}');var a;return this.runsInBrowser()?a=decodeURIComponent(window.location.hash):a=this.$history[this.$history.length-1]||"",a.replace(c,"")},start:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74646,75080],"range":[74633,75080],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":520,"label":"rappidjs"}');var c=this;this.$checkUrlFn=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[74685,74716],"range":[74675,74716],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":519,"label":"rappidjs"}');c.checkUrl.apply(c,arguments)},this.runsInBrowser()?"onhashchange"in window?window.addEventListener?window.addEventListener("hashchange",this.$checkUrlFn,!1):window.attachEvent("onhashchange",this.$checkUrlFn):this.$checkUrlInterval=setInterval(this.$checkUrlFn,this.$.interval):this.$history.push(b||""),this.fragment=this.getFragment(),this.navigate(this.fragment,!0,!0,a),this.processUrl=!0},stop:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[75096,75329],"range":[75086,75329],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":521,"label":"rappidjs"}');typeof window!="undefined"&&("onhashchange"in window?window.removeEventListener?window.removeEventListener("hashchange",this.$checkUrlFn,!1):window.detachEvent("onhashchange",this.$checkUrlFn):clearInterval(this.$checkUrlInterval))},addRouter:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[75351,75374],"range":[75340,75374],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":522,"label":"rappidjs"}');this.$routers.push(a)},checkUrl:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[75395,75514],"range":[75384,75514],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":523,"label":"rappidjs"}');if(this.processUrl){var b=this.getFragment();if(b==this.fragment)return!1;this.navigate(b,!0,!0,e)}this.processUrl=!0},triggerRoute:function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[75541,75751],"range":[75528,75751],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":525,"label":"rappidjs"}');var d=[];for(var e=0;e<this.$routers.length;e++)d=d.concat(this.$routers[e].generateRoutingStack(a));d.length===0?(console.log("no route for '"+a+"' found."),c&&c()):b().seqEach(d,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[75735,75741],"range":[75722,75741],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":524,"label":"rappidjs"}');a(b)}).exec(c)},navigate:function(a,b,c,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[75778,76154],"range":[75761,76154],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":526,"label":"rappidjs"}');!e&&b instanceof Function&&(e=b,b=null),!e&&c instanceof Function&&(e=c,c=null);if(b==d||b==null)b=!0;if(c==d||c==null)c=!0;this.processUrl=!1,b?(this.runsInBrowser()?window.location.hash="/"+a:this.checkUrl(null),this.$history.push(a)):(this.runsInBrowser()&&window.location.replace("#/"+a),this.$history[this.$history.length-1]=a),this.fragment=a,c&&this.triggerRoute(a,e)}})}),define("js/core/Application",["js/core/UIComponent","js/core/History"],function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76243,76777],"range":[76230,76777],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":536,"label":"rappidjs"}');return a.inherit("js.core.Application",{$classAttributes:[/.+/],ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76323,76359],"range":[76313,76359],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":528,"label":"rappidjs"}');this.history=new b,this.callBase()},initialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76381,76398],"range":[76371,76398],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":529,"label":"rappidjs"}');this.callBase()},_inject:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76417,76419],"range":[76407,76419],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":530,"label":"rappidjs"}');},_initializeDescriptors:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76453,76501],"range":[76443,76501],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":531,"label":"rappidjs"}');this.callBase(),a.prototype._inject.call(this)},start:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76521,76598],"range":[76508,76598],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":532,"label":"rappidjs"}');a=a||{},this.$systemManager.$parameter=a,this.startHistory(b,a.initialHash)},startHistory:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76625,76650],"range":[76612,76650],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":533,"label":"rappidjs"}');this.history.start(a,b)},render:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76669,76725],"range":[76658,76725],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":534,"label":"rappidjs"}');var b=this.callBase(null);return a&&a.appendChild(b),b},toString:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76745,76774],"range":[76735,76774],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":535,"label":"rappidjs"}');return"js.core.Application"}})}),define("js/core/List",["js/core/Bindable","underscore"],function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76848,78502],"range":[76835,78502],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":555,"label":"rappidjs"}');return a.inherit("js.core.List",{ctor:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76900,77080],"range":[76887,77080],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":539,"label":"rappidjs"}');this.$items=[],this.callBase(b),a&&this.add(a);var c=this;this.bind("add",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[76985,77004],"range":[76975,77004],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":537,"label":"rappidjs"}');c.length=c.size()}),this.bind("remove",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77035,77054],"range":[77025,77054],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":538,"label":"rappidjs"}');c.length=c.size()}),this.length=this.size()},hasItems:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77100,77129],"range":[77090,77129],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":540,"label":"rappidjs"}');return this.$items.length>0}.on("add","remove"),push:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77165,77242],"range":[77154,77242],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":541,"label":"rappidjs"}');this.$items.push(a),this.trigger("add",{item:a,index:this.$items.length-1})},pop:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77257,77299],"range":[77247,77299],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":542,"label":"rappidjs"}');return this.removeAt(this.$items.length)},shift:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77316,77341],"range":[77306,77341],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":543,"label":"rappidjs"}');return this.removeAt(0)},unshift:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77361,77422],"range":[77350,77422],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":544,"label":"rappidjs"}');this.$items.unshift(a),this.trigger("add",{item:a,index:0})},add:function(c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77440,77719],"range":[77427,77719],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":545,"label":"rappidjs"}');d=d||{},b.defaults(d,{silent:!1,index:this.$items.length});var e=d.index;b.isArray(c)||(c=[c]);var f,g;for(var h=0;h<c.length;h++)f=c[h],f instanceof a&&f.bind("change",this._onItemChange,this),g=e+h,this.$items.splice(g,0,f),d.silent!==!0&&this.trigger("add",{item:f,index:g})},_onItemChange:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77747,77809],"range":[77734,77809],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":546,"label":"rappidjs"}');this.trigger("change",{item:b,index:this.$items.indexOf(b)})},remove:function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77830,77923],"range":[77817,77923],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":547,"label":"rappidjs"}');b.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++)this.removeAt(this.$items.indexOf(a[d]),c)},removeAt:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[77946,78098],"range":[77933,78098],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":548,"label":"rappidjs"}');b=b||{};if(a>-1&&a<this.$items.length){var c=this.$items.splice(a,1);return b.silent!==!0&&this.trigger("remove",{item:c[0],index:a}),c[0]}return null},reset:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78116,78163],"range":[78105,78163],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":549,"label":"rappidjs"}');this.$items=a,this.trigger("reset",{items:a})},sort:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78180,78240],"range":[78169,78240],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":550,"label":"rappidjs"}');this.trigger("sort",{items:this.$items.sort(a),sortFnc:a})},clear:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78257,78273],"range":[78247,78273],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":551,"label":"rappidjs"}');this.reset([])},size:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78289,78316],"range":[78279,78316],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":552,"label":"rappidjs"}');return this.$items.length}.on("add","remove"),at:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78350,78405],"range":[78339,78405],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":553,"label":"rappidjs"}');return a<this.$items.length&&a>=0?this.$items[a]:null},each:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78424,78499],"range":[78411,78499],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":554,"label":"rappidjs"}');b=b||this;for(var c=0;c<this.$items.length;c++)a.call(b,this.$items[c],c)}})}),define("js/data/Entity",["require","js/core/Bindable","js/core/List"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78589,80947],"range":[78574,80947],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":563,"label":"rappidjs"}');var d=0,e,f=b.inherit("js.core.Entity",{ctor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78646,78699],"range":[78635,78699],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":556,"label":"rappidjs"}');this.$cid=++d,this._extendSchema(),this.callBase(a)},$schema:{},$context:null,$dependentObjectContext:null,$cacheInRootContext:!1,$isDependentObject:!0,_extendSchema:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[78823,78980],"range":[78813,78980],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":557,"label":"rappidjs"}');var a=this.base;while(a instanceof f){var b=a.$schema;for(var c in b)b.hasOwnProperty(c)&&!this.$schema.hasOwnProperty(c)&&(this.$schema[c]=b[c]);a=a.base}},getContextForChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[79014,79280],"range":[79003,79280],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":558,"label":"rappidjs"}');return a.prototype.$cacheInRootContext?this.$context.$datasource.getContext():this._isChildFactoryDependentObject(a)?(this.$dependentObjectContext||(this.$dependentObjectContext=this.$context.$datasource.createContext()),this.$dependentObjectContext):this.$context},_isChildFactoryDependentObject:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[79323,79365],"range":[79312,79365],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":559,"label":"rappidjs"}');return a&&a.prototype.$isDependentObject},parse:function(b,d,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[79387,80850],"range":[79372,80850],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":560,"label":"rappidjs"}');if(!e)try{e=a("js/data/Collection")}catch(h){}var i=this.$context.$datasource.getProcessorForModel(this);b=i.parse(b,d,g);var j=this.$schema;for(var k in j)if(j.hasOwnProperty(k)&&b.hasOwnProperty(k)){var l=b[k],m=j[k],n,o,p,q,r;if(m instanceof Array){if(m.length===1)n=m[0];else{if(m.length!==0)throw"Cannot determinate ModelFactory. Multiple factories defined for '"+k+"'.";this.log('ModelFactory for ListItem for "'+k+'" not defined',"warn"),n=f}if(!(n.prototype instanceof f))throw"Factory for type '"+k+"' isn't an instance of Entity";if(!(l instanceof Array||l===null))throw'Schema for type "'+k+'" requires to be an array';q=b[k]=new c,r=n===this.$context.$datasource.$entityFactory||n===this.$context.$datasource.$modelFactory?k:null;if(l)for(p=0;p<l.length;p++)o=this.getContextForChildren(n).createEntity(n,l[p].id,r),o.set(o.parse(l[p],d,g)),q.add(o)}else if(e&&m.classof(e)){r=m===this.$context.$datasource.$collectionFactory?k:m.prototype.$alias;var s=this.getContextForChildren(m);q=b[k]=s.createCollection(m,null,r),q.set(l);if(l instanceof Array||l===null)for(p=0;p<l.length;p++)o=s.createEntity(q.$modelFactory),o.set(o.parse(l[p],d,g)),q.add(o)}else{n=m||f;if(!(n.prototype instanceof f))throw"Factory for type '"+k+"' isn't an instance of Entity";r=n===this.$context.$datasource.$entityFactory||n===this.$context.$datasource.$modelFactory?k:null,b[k]=o=this.getContextForChildren(n).createEntity(n,this.$.id,r),o.set(o.parse(l,d,g))}}return b},prepare:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[80872,80887],"range":[80859,80887],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":561,"label":"rappidjs"}');return this.$},compose:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[80909,80935],"range":[80896,80935],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":562,"label":"rappidjs"}');return this.prepare(a,b)}});return f}),define("js/data/Model",["js/data/Entity","js/core/List","flow","underscore"],function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81043,83172],"range":[81026,83172],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":584,"label":"rappidjs"}');function h(a,b,c){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[81061,81234],"range":[81044,81234],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":566,"label":"rappidjs"}');d.each(a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81082,81232],"range":[81071,81232],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":565,"label":"rappidjs"}');if(a instanceof g){var d=b[a.$alias];d&&(d.found=!0,c.push(function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81153,81194],"range":[81142,81194],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":564,"label":"rappidjs"}');a.fetch({fetchSubModels:d.subModels},b)}))}else a instanceof Object&&h(a,b,c)})}function i(a,b,e,f){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[81253,81614],"range":[81234,81614],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":570,"label":"rappidjs"}');var i=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81273,81286],"range":[81260,81286],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":567,"label":"rappidjs"}');f&&f(a,b,e)};if(a)i(a,b);else{var j=[];if(e.fetchSubModels&&e.fetchSubModels.length>0){var k=g.createSubModelLoadingChain(b,e.fetchSubModels);h(b.$,k,j);var l=d.filter(k,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81455,81471],"range":[81444,81471],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":568,"label":"rappidjs"}');return!a.found});if(l.length>0){console.log(["requested submodel missing",l]),i("requested submodel missing",b);return}}c().par(j).exec(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81603,81611],"range":[81592,81611],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":569,"label":"rappidjs"}');i(a,b)})}}var e={CREATED:0,LOADING:1,LOADED:2,ERROR:-1},f={NEW:0,CREATED:1,DELETED:-1},g=a.inherit("js.data.Model",{ctor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81736,81840],"range":[81725,81840],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":571,"label":"rappidjs"}');this.$modelClassName=this.constructor.name,this._fetch={callbacks:[],state:e.CREATED},this.callBase(a)},$isDependentObject:!1,save:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[81881,82040],"range":[81868,82040],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":572,"label":"rappidjs"}');try{var c=this._status();if(c!==f.NEW&&c!==f.CREATED)throw"status '"+c+"' doesn't allow save";this.$context.$datasource.saveModel(this,a,b)}catch(d){b&&b(d)}},prepare:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82062,82116],"range":[82049,82116],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":573,"label":"rappidjs"}');return a=this.callBase(),b==="create"&&delete a.id,a},compose:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82138,82242],"range":[82125,82242],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":574,"label":"rappidjs"}');var c=this.callBase(),d=this.$context.$datasource.getProcessorForModel(this,b);return d.compose(c,a,b)},fetch:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82262,82589],"range":[82249,82589],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":578,"label":"rappidjs"}');a=a||{};var c=this;this._fetch.state===e.LOADING?this._fetch.callbacks.push(function(c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82352,82364],"range":[82339,82364],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":575,"label":"rappidjs"}');i(c,d,a,b)}):this._fetch.state==e.LOADED?i(null,this,a,b):(c._fetch.state=e.LOADING,this.$context.$datasource.loadModel(this,a,function(f,g){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82493,82586],"range":[82480,82586],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":577,"label":"rappidjs"}');c._fetch.state=f?e.ERROR:e.LOADED,i(f,g,a,b),d.each(c._fetch.callbacks,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82576,82584],"range":[82565,82584],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":576,"label":"rappidjs"}');a(f,g)})}))},remove:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82610,82803],"range":[82597,82803],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":580,"label":"rappidjs"}');try{var c=this._status(),d=this;if(c!==f.CREATED)throw"status '"+c+"' doesn't allow delete";this.$context.$datasource.removeModel(this,a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82759,82783],"range":[82748,82783],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":579,"label":"rappidjs"}');a||d.set("id",!1),b(a)})}catch(e){b&&b(e)}},_status:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82822,82881],"range":[82812,82881],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":581,"label":"rappidjs"}');return this.$.id===!1?f.DELETED:this.$.id?f.CREATED:f.NEW}.onChange("id")});return g.createSubModelLoadingChain=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[82948,83144],"range":[82935,83144],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":583,"label":"rappidjs"}');var c={},e=/^([\w][\w.]*)(?:\/([\w][\w.]*))?$/;return d.each(b,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83023,83140],"range":[83012,83140],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":582,"label":"rappidjs"}');var b=e.exec(a);if(b){var d=b[1],f=b[2],g=c[d];g||(g={type:d,found:!1,subModels:[]}),f&&g.subModels.push(f),c[d]=g}}),c},g.STATE=f,g.FETCHSTATE=e,g}),define("js/html/Input",["js/html/HtmlElement"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83232,83939],"range":[83221,83939],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":591,"label":"rappidjs"}');return a.inherit("js.html.Input",{$classAttributes:["updateOnEvent","checked"],defaults:{type:"text",checked:!1,updateOnEvent:"keyup"},_renderValue:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83392,83432],"range":[83381,83432],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":585,"label":"rappidjs"}');a!==this.$el.value&&(this.$el.value=a)},_renderChecked:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83459,83479],"range":[83448,83479],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":586,"label":"rappidjs"}');this.$el.checked=a},_bindDomEvents:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83505,83936],"range":[83495,83936],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":590,"label":"rappidjs"}');var a=this;this.$.type==="text"||this.$.type==="password"?this.addEventListener(this.$.updateOnEvent,function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83618,83646],"range":[83607,83646],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":587,"label":"rappidjs"}');a.set("value",a.$el.value)}):this.$.type==="checkbox"||this.$.type==="radio"?this.addEventListener("click",function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83737,83769],"range":[83726,83769],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":588,"label":"rappidjs"}');a.set("checked",a.$el.checked)}):this.$.type=="number"&&this.addEventListener(this.$.updateOnEvent,function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[83848,83918],"range":[83837,83918],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":589,"label":"rappidjs"}');var c=parseInt(a.$el.value);isNaN(c)&&(c=a.$.value),a.set("value",c)}),this.callBase()}})}),define("js/conf/Configuration",["js/core/Component"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84005,84047],"range":[83994,84047],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":592,"label":"rappidjs"}');return a.inherit("js.core.Component",{})}),define("js/conf/Route",["js/conf/Configuration"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84109,84147],"range":[84098,84147],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":593,"label":"rappidjs"}');return a.inherit("js.conf.Route",{})}),define("js/core/Router",["js/core/Component","underscore","js/conf/Route"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84239,85918],"range":[84224,85918],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":607,"label":"rappidjs"}');return a.inherit("js.core.Router",{ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84290,84323],"range":[84280,84323],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":594,"label":"rappidjs"}');this.$routes=[],this.callBase()},initialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84345,84488],"range":[84335,84488],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":595,"label":"rappidjs"}');this.callBase(),this.$.history?this.history=this.$.history:this.history=this.$systemManager.$application.history,this.history.addRouter(this)},_initializeChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84520,84537],"range":[84509,84537],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":596,"label":"rappidjs"}');this.callBase()},_childrenInitialized:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84569,84699],"range":[84559,84699],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":597,"label":"rappidjs"}');this.callBase();for(var a=0;a<this.$configurations.length;a++){var b=this.$configurations[a];b instanceof c&&this.addRoute(b.$)}},addRoute:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[84719,85026],"range":[84709,85026],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":598,"label":"rappidjs"}');var a;arguments.length==2?a={route:arguments[0],fn:arguments[1]}:a=arguments[0],a.onexec&&(a.fn=this.$rootScope[a.onexec]),b.defaults(a,{name:null,route:null,fn:null}),a.route&&!(a.route instanceof RegExp)&&(a.route=new RegExp(a.route));if(!a.fn||!a.route)throw"fn and route required";this.$routes.push(a)},generateRoutingStack:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[85059,85503],"range":[85048,85503],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":603,"label":"rappidjs"}');function f(a,f){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[85075,85371],"range":[85060,85371],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":602,"label":"rappidjs"}');c.push(function(c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[85094,85369],"range":[85083,85369],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":601,"label":"rappidjs"}');var g=f.shift(),h={callback:c,router:e,params:b.clone(f),fragment:g,end:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[85177,85186],"range":[85167,85186],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":599,"label":"rappidjs"}');c.end()},navigate:function(a,d,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[85211,85257],"range":[85196,85257],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":600,"label":"rappidjs"}');b.isUndefined(d)&&(d=!1),e.navigate(a,d,f,c)}};f.unshift(h);if(a.fn._async)try{a.fn.apply(d,f)}catch(i){c(i)}else try{c(null,a.fn.apply(d,f))}catch(i){c(i)}})}var c=[],d=this.$rootScope,e=this;for(var g=0;g<this.$routes.length;g++){var h=this.$routes[g],i=h.route.exec(a);i&&f(h,i)}return c},executeRoute:function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[85530,85849],"range":[85517,85849],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":605,"label":"rappidjs"}');for(var d=0;d<this.$routes.length;d++){var e=this.$routes[d],f=e.route.exec(a);if(f){var g=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[85635,85646],"range":[85622,85646],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":604,"label":"rappidjs"}');c&&c(a,b)};f.shift();var h={callback:g,router:this,params:b.clone(f),fragment:a};f.unshift(h);var i=this.$rootScope;if(e.fn._async)e.fn.apply(i,f);else try{g(null,e.fn.apply(i,f))}catch(j){g(j)}return!0}}return!1},navigate:function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[85876,85915],"range":[85859,85915],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":606,"label":"rappidjs"}');return this.history.navigate(a,b,c,d)}})}),define("js/core/I18n",["require","js/core/Component","underscore"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86002,86667],"range":[85987,86667],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":613,"label":"rappidjs"}');return b.inherit("js.core.I18n",{defaults:{path:"app/locale",locale:null,suffix:".json",translations:{}},initialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86129,86177],"range":[86119,86177],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":608,"label":"rappidjs"}');this.callBase(),this.loadLocale(this.$.locale)},_commitChangedAttributes:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86214,86251],"range":[86203,86251],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":609,"label":"rappidjs"}');a.locale&&this.loadLocale(a.locale)},loadLocale:function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86276,86407],"range":[86263,86407],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":611,"label":"rappidjs"}');if(!b)throw"locale not defined";var d=this;a(["json!"+this.$.path+"/"+this.$.locale],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86373,86405],"range":[86362,86405],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":610,"label":"rappidjs"}');d.set({translations:a}),c&&c()})},translate:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86428,86639],"range":[86418,86639],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":612,"label":"rappidjs"}');var a=Array.prototype.slice.call(arguments),b=a.shift(),d;c.isNumber(b)&&(d=b!==1,b=a.shift()),d&&(b+="_plural");var e=this.$.translations[b]||"";for(var f=0;f<a.length;f++)e=e.split("%"+f).join(a[f]);return e}.onChange("translations")})}),define("js/core/Script",["js/core/Element"],function(Element){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86730,86948],"range":[86713,86948],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":615,"label":"rappidjs"}');return Element.inherit("js.core.Script",{evaluate:function(imports){instrumentation_log('{"type":"FunctionExpression","bodyRange":[86798,86945],"range":[86781,86945],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":614,"label":"rappidjs"}');var textContent=this._getTextContentFromDescriptor(this.$descriptor),fn=eval("this.javascript = ("+textContent+")");return fn.apply(this,imports)}})}),define("js/ui/View",["js/html/HtmlElement","js/core/Content","underscore"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87040,88085],"range":[87025,88085],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":625,"label":"rappidjs"}');return a.inherit({defaults:{tagName:"div"},render:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87101,87233],"range":[87091,87233],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":616,"label":"rappidjs"}');var a=this.$templates.layout;if(a){var b=a.createComponents({},this,this);this._initializeLayoutChildren(b)}return this.callBase()},_initializeLayoutChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87271,87340],"range":[87260,87340],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":617,"label":"rappidjs"}');for(var b=0;b<a.length;b++)a[b].$rootScope=this,this.addChild(a[b])},_renderChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87365,87479],"range":[87354,87479],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":618,"label":"rappidjs"}');this.callBase();if(a instanceof b){var c=a.get("ref");if(c){var d=this.getPlaceHolder(c);d&&d.set({content:a})}}},_renderLayoutClass:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87512,87594],"range":[87499,87594],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":620,"label":"rappidjs"}');c.each(this.$renderedChildren,function(c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87554,87592],"range":[87543,87592],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":619,"label":"rappidjs"}');b&&c.removeClass(b),a&&c.addClass(a)})},_renderComponentClass:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87630,87674],"range":[87617,87674],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":621,"label":"rappidjs"}');b&&this.removeClass(b),a&&this.addClass(a)},_renderClass:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87699,87720],"range":[87688,87720],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":622,"label":"rappidjs"}');a&&this.addClass(a)},_renderTemplateToPlaceHolder:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[87765,88026],"range":[87750,88026],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":623,"label":"rappidjs"}');this.$renderedPlaceholders=this.$renderedPlaceholders||{};var d=this.$renderedPlaceholders[b];if(!d){var e=this.getTemplate(a);if(e){d=e.createComponents(c)[0];var f=this.getPlaceHolder(b);f&&(f.set({content:d}),this.$renderedPlaceholders[b]=d)}}else d.set(c)},_renderId:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88048,88082],"range":[88037,88082],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":624,"label":"rappidjs"}');a&&this.$el.setAttribute("id",a)}})}),define("js/core/Template",["js/core/Component"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88146,88528],"range":[88135,88528],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":628,"label":"rappidjs"}');return a.inherit("js.core.Template",{_initializeDescriptors:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88217,88288],"range":[88207,88288],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":626,"label":"rappidjs"}');this._cleanUpDescriptor(this.$descriptor),this._childrenInitialized()},createComponents:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88321,88525],"range":[88306,88525],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":627,"label":"rappidjs"}');c=c||this.$rootScope,b=b||this.$parentScope;var d=this._getChildrenFromDescriptor(this.$descriptor,null,c);for(var e=0;e<d.length;e++)d[e].$parentScope=b,d[e].set(a),d[e]._initialize("auto",!0);return d}})}),define("js/ui/ItemsView",["js/ui/View","js/core/Template","js/core/List","underscore"],function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88634,90754],"range":[88617,90754],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":643,"label":"rappidjs"}');return a.inherit({defaults:{tagName:"div",items:null,itemKey:"item",indexKey:"index"},$classAttributes:["itemKey","indexKey"],hasItems:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88780,88823],"range":[88770,88823],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":629,"label":"rappidjs"}');return this.$.items?this.$.items.length:0}.on("items"),render:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88853,88921],"range":[88843,88921],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":630,"label":"rappidjs"}');return this.isRendered()||(this.$renderedItems=[]),this.callBase()},_renderItems:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[88948,89356],"range":[88935,89356],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":631,"label":"rappidjs"}');b&&b instanceof c&&(b.unbind("sort",this._onSort,this),b.unbind("reset",this._onReset,this),b.unbind("add",this._onItemAdd,this),b.unbind("remove",this._onItemRemove,this)),a instanceof c?(a.bind("sort",this._onSort,this),a.bind("reset",this._onReset,this),a.bind("add",this._onItemAdd,this),a.bind("remove",this._onItemRemove,this),this._innerRenderItems(a.$items)):d.isArray(a)&&this._innerRenderItems(a)},_onSort:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[89376,89544],"range":[89365,89544],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":632,"label":"rappidjs"}');if(this.isRendered()){var b,c;for(var d=0;d<a.$.items.length;d++)b=a.$.items[d],c=this.getComponentForItem(b),this.$el.removeChild(c.$el),this.$el.appendChild(c.$el)}},_onReset:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[89565,89600],"range":[89554,89600],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":633,"label":"rappidjs"}');this._innerRenderItems(a.$.items)},_onItemAdd:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[89623,89666],"range":[89612,89666],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":634,"label":"rappidjs"}');this._innerRenderItem(a.$.item,a.$.index)},_onItemRemove:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[89692,89728],"range":[89681,89728],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":635,"label":"rappidjs"}');this._removeRenderedItem(a.$.item)},_innerRenderItems:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[89758,89994],"range":[89747,89994],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":636,"label":"rappidjs"}');if(this.$renderedItems){var b;for(var c=this.$renderedItems.length-1;c>=0;c--)b=this.$renderedItems[c],this.removeChild(b.component),b.component.destroy()}this.$renderedItems=[];for(var d=0;d<a.length;d++)this._innerRenderItem(a[d],d)},_createComponentForItem:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90032,90197],"range":[90019,90197],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":637,"label":"rappidjs"}');var c={};c[this._getItemKey()]=a,c[this._getIndexKey()]=b;var d=this.$templates.item.createComponents(c)[0];return this.$renderedItems.push({item:a,component:d}),d},_innerRenderItem:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90228,90278],"range":[90215,90278],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":638,"label":"rappidjs"}');this.addChild(this._createComponentForItem(a,b))},_getItemKey:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90301,90327],"range":[90291,90327],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":639,"label":"rappidjs"}');return"$"+this.$.itemKey},_getIndexKey:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90351,90378],"range":[90341,90378],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":640,"label":"rappidjs"}');return"$"+this.$.indexKey},_removeRenderedItem:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90410,90596],"range":[90399,90596],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":641,"label":"rappidjs"}');var b;for(var c=0;c<this.$renderedItems.length;c++){b=this.$renderedItems[c];if(b.item===a){this.removeChild(b.component),this.$renderedItems.splice(c,1),b.component.destroy();return}}},getComponentForItem:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90628,90751],"range":[90617,90751],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":642,"label":"rappidjs"}');var b;for(var c=0;c<this.$renderedItems.length;c++){b=this.$renderedItems[c];if(b.item===a)return b.component}return null}})}),define("js/core/Injection",["js/core/Component","underscore"],function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90831,92283],"range":[90818,92283],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":652,"label":"rappidjs"}');function c(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[90847,90886],"range":[90832,90886],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":644,"label":"rappidjs"}');return a==b||a.prototype instanceof b}return a.inherit("js.core.Injection",{ctor:function(a,b,c,d,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[90948,91070],"range":[90929,91070],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":645,"label":"rappidjs"}');return c.$injection||(this.callBase(),this.$singletonInstanceCache=[],this.$factories=[],c.$injection=this),c.$injection},_initializeChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[91102,91119],"range":[91091,91119],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":646,"label":"rappidjs"}');this.callBase()},_childrenInitialized:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[91151,91267],"range":[91141,91267],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":647,"label":"rappidjs"}');this.callBase();for(var a=0;a<this.$configurations.length;a++){var b=this.$configurations[a];this.addFactory(b.$)}},getInstance:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[91291,91732],"range":[91280,91732],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":648,"label":"rappidjs"}');var d;if(b.isString(a)){if(this.$singletonInstanceCache.hasOwnProperty(a))return this.$singletonInstanceCache[a]}else{for(var e=0;e<this.$singletonInstanceCache.length;e++){d=this.$singletonInstanceCache[e];if(d instanceof a)return d}for(var f=0;f<this.$factories.length;f++){var g=this.$factories[f];if(c(g.factory,a)){d=new g.factory;if(d instanceof a)return g.singleton&&this.addInstance(d),d}}}throw"requested injection type not found"},addChild:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[91753,91791],"range":[91742,91791],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":649,"label":"rappidjs"}');this.callBase(a),this.addInstance(a)},addFactory:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[91814,92077],"range":[91803,92077],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":650,"label":"rappidjs"}');a instanceof Function&&(a={factory:a}),b.defaults(a,{type:null,factory:null,singleton:!1});if(!a.factory){var c=this.$systemManager.$applicationDomain.getDefinition(a.type);if(!c)throw"factory for type '"+a.type+"' not found";a.factory=c}this.$factories.push(a)},addInstance:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92103,92280],"range":[92090,92280],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":651,"label":"rappidjs"}');arguments.length==1&&(b=a,a=null);if(b instanceof Function)throw"got a factory instead of an instance";a?this.$singletonInstanceCache[a]=b:this.$singletonInstanceCache.push(b)}})}),define("js/ui/ContentPlaceHolder",["js/ui/View"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92345,92491],"range":[92334,92491],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":654,"label":"rappidjs"}');return a.inherit({$classAttributes:["name"],_renderContent:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92416,92488],"range":[92405,92488],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":653,"label":"rappidjs"}');this._clearRenderedChildren(),a&&this._renderChildren(a.getChildren())}})}),define("js/ui/TextWrapper",["js/ui/View"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92546,93801],"range":[92535,93801],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":660,"label":"rappidjs"}');var b=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92564,92818],"range":[92553,92818],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":655,"label":"rappidjs"}');var b=[],c,d=[],e,f=0;for(var g=0;g<a.length;g++)e=a.charAt(g),e=="["&&d.length===0?(c={},c.start=g,d.push(g)):e=="|"?f=g:e=="]"&&d.length>0&&f>0&&(c.index=parseInt(a.substring(f+1,g)),c.end=g,c.text=a.substring(c.start+1,f),b.push(c),d.pop());return b};return a.inherit({defaults:{tagName:"span"},_getChildrenFromDescriptor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92901,92911],"range":[92890,92911],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":656,"label":"rappidjs"}');return[]},_renderChildren:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92938,92940],"range":[92928,92940],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":657,"label":"rappidjs"}');},_renderContentChildren:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[92974,92976],"range":[92964,92976],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":658,"label":"rappidjs"}');},_renderString:function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[93004,93798],"range":[92991,93798],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":659,"label":"rappidjs"}');for(var d=0;d<this.$el.childNodes.length;d++)this.$el.removeChild(this.$el.childNodes[d]);if(a){var e=b(a),f,g=-1;for(var h=0;h<e.length;h++){f=e[h],f.start>g&&this.$el.appendChild(this.$systemManager.$document.createTextNode(a.substring(g+1,f.start))),g=f.end,this.$viewMap||(this.$viewMap={});var i=f.index+":"+h,j=this.$viewMap[i];j||(j=this._createComponentForNode(this.$descriptor.childNodes[f.index]),j&&(j.$parentScope=this.$parentScope,j.$rootScope=this.$rootScope,this.$viewMap[i]=j)),j?(j.set("$text",f.text),j._initialize("auto",!0),j.isRendered()||j.render(),this.$children.push(j),this.$el.appendChild(j.$el)):this.$el.appendChild(this.$systemManager.$document.createTextNode(f.text))}g<a.length&&this.$el.appendChild(this.$systemManager.$document.createTextNode(a.substr(g+1)))}}})}),define("js/data/DataView",["js/core/Component","js/core/List","underscore"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[93894,94825],"range":[93879,94825],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":668,"label":"rappidjs"}');return a.inherit("js.data.DataView",{defaults:{filterFnc:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[93967,93977],"range":[93952,93977],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":661,"label":"rappidjs"}');return!0}},initialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94000,94366],"range":[93990,94366],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":662,"label":"rappidjs"}');this.$.list=new b,this.bind("baseList","add",this._onItemAdded,this),this.bind("baseList","remove",this._onItemRemoved,this),this.bind("baseList","change",this._onItemChanged,this),this.bind("baseList","reset",this._onReset,this),this.bind("baseList","sort",this._onSort,this),this.$.baseList&&this.$.baseList instanceof b&&this._innerReset(this.$.baseList.$items)},_onItemChanged:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94392,94394],"range":[94382,94394],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":663,"label":"rappidjs"}');},_onReset:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94415,94442],"range":[94404,94442],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":664,"label":"rappidjs"}');this._innerReset(a.items)},_onSort:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94462,94491],"range":[94451,94491],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":665,"label":"rappidjs"}');this.$.list.sort(a.sortFnc)},_innerReset:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94515,94517],"range":[94504,94517],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":666,"label":"rappidjs"}');},destroy:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94536,94822],"range":[94526,94822],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":667,"label":"rappidjs"}');this.unbind("baseList","add",this._onItemAdded,this),this.unbind("baseList","remove",this._onItemRemoved,this),this.unbind("baseList","change",this._onItemChanged,this),this.unbind("baseList","reset",this._onReset,this),this.unbind("baseList","sort",this._onSort,this),this.callBase()}})}),define("js/data/FilterDataView",["js/data/DataView"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94891,95762],"range":[94880,95762],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":676,"label":"rappidjs"}');return a.inherit("js.data.FilterListView",{initialize:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[94956,95077],"range":[94946,95077],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":669,"label":"rappidjs"}');this.callBase(),this.bind("change:filter",this._onFilterChanged,this),this.bind("filterFnc",this._onFilterChanged,this)},_onFilterChanged:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95105,95147],"range":[95095,95147],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":670,"label":"rappidjs"}');this._innerReset(this.$.baseList.$items)},_onItemAdded:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95172,95256],"range":[95161,95256],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":671,"label":"rappidjs"}');var b=this._filterItem(a.$.item,a.index);b===!0&&this.$.list.add(a.$.item,a.index)},_onItemRemoved:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95283,95323],"range":[95272,95323],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":672,"label":"rappidjs"}');this.$.list.remove(a.$.item,a.$.index)},_onItemChanged:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95350,95532],"range":[95339,95532],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":673,"label":"rappidjs"}');var b=this._filterItem(a.$.item,a.$.index),c=_.include(this.$.list.$items,a.$.item);c&&b===!1?this.$.list.remove(a.$.item,a.$.index):!c&&b===!0&&this.$.list.add(a.$.item,a.$.index)},_innerReset:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95556,95661],"range":[95545,95661],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":674,"label":"rappidjs"}');var b=[],c;for(var d=0;d<a.length;d++)c=a[d],this._filterItem(c,d)===!0&&b.push(c);this.$.list.reset(b)},_filterItem:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95687,95759],"range":[95674,95759],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":675,"label":"rappidjs"}');return this.$.filterFnc?this.$.filterFnc.call(this,a,b,this.$.list):!0}})}),define("js/data/Collection",["require","js/core/List","js/data/Model","flow","underscore"],function(a,b,c,d,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95874,99552],"range":[95855,99552],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":705,"label":"rappidjs"}');var f=0,g={CREATED:0,LOADING:1,LOADED:2,ERROR:-1},h=b.inherit("js.data.Collection",{$modelFactory:c,ctor:function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[95993,96247],"range":[95980,96247],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":677,"label":"rappidjs"}');c=c||{},this.callBase(b),this.$cid=++f,e.defaults(c,{rootCollection:null,pageSize:null,queryParameters:{},factory:this.$modelFactory||a("js/data/Model"),type:null}),this.$itemsCount=null,this.$queryCollectionsCache={},this.$pageCache=[],this.$options=c},getRootCollection:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[96276,96347],"range":[96266,96347],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":678,"label":"rappidjs"}');return this.$options.rootCollection?this.$options.rootCollection:this},createQueryCacheKey:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[96379,96499],"range":[96368,96499],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":679,"label":"rappidjs"}');a=a||{};var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return b.sort(),b.length==0?"root":b.join("&")},createQueryCollection:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[96533,96648],"range":[96522,96648],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":680,"label":"rappidjs"}');var b={queryParameter:a,rootCollection:this.getRootCollection()};return e.defaults(b,this.$options),new h(null,b)},fetch:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[96668,97051],"range":[96655,97051],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":686,"label":"rappidjs"}');function e(e){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[96682,96811],"range":[96669,96811],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":684,"label":"rappidjs"}');function g(b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[96696,96737],"range":[96683,96737],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":682,"label":"rappidjs"}');f.push(function(d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[96715,96735],"range":[96704,96735],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":681,"label":"rappidjs"}');c.fetchPage(b,a,d)})}var f=[];for(var h=0;h<e;h++)g(h);d().par(f).exec(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[96798,96809],"range":[96787,96809],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":683,"label":"rappidjs"}');b&&b(a,c)})}a=a||{};var c=this;if(!this.$options.pageSize)this.fetchPage(0,a,b);else{var f=this.pageCount();isNaN(f)?this.fetchPage(0,a,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[96946,97043],"range":[96935,97043],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":685,"label":"rappidjs"}');a?b&&b(a,c):(f=c.pageCount(),isNaN(f)?b&&b("Count for collection couldn't be fetched.",c):e(f))}):e(f)}},pageCount:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[97072,97152],"range":[97062,97152],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":687,"label":"rappidjs"}');return this.$itemsCount?Math.ceil(this.$itemsCount/this.$options.pageSize):NaN},getContextForChildren:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[97186,97279],"range":[97175,97279],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":688,"label":"rappidjs"}');return a.prototype.$cacheInRootContext?this.$context.$datasource.getContext():this.$context},parse:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[97299,97615],"range":[97286,97615],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":689,"label":"rappidjs"}');if(a instanceof Array){var c=this.$modelFactory,d=c===this.$context.$datasource.$entityFactory||c===this.$context.$datasource.$modelFactory?b:this.$alias;for(var e=0;e<a.length;e++){var f=a[e],g=this.getContextForChildren(c).createEntity(c,f.id,d,b);g.set(g.parse(f)),a[e]=g}return a}throw"data has to be an array"},createItem:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[97640,97732],"range":[97627,97732],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":690,"label":"rappidjs"}');return this.getContextForChildren(this.$modelFactory).createEntity(this.$modelFactory,a,b)},fetchPage:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[97758,98057],"range":[97743,98057],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":692,"label":"rappidjs"}');if(a<0)throw"pageIndex must be >= 0";var d=this.$pageCache[a];d||(d=this.$pageCache[a]=new i(null,this.getRootCollection(),a));var e=this;d.fetch(b,function(d,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[97920,98055],"range":[97907,98055],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":691,"label":"rappidjs"}');!d&&!f.itemsInsertedIntoCollection&&(f.itemsInsertedIntoCollection=!0,e.add(f.$items,{index:(a||0)*e.$options.pageSize})),c&&c(d,f,b)})},find:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98074,98257],"range":[98063,98257],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":693,"label":"rappidjs"}');var b=this.createQueryCacheKey(a);return this.$queryCollectionsCache.hasOwnProperty(b)||(this.$queryCollectionsCache[b]=this.createQueryCollection(a)),this.$queryCollectionsCache[b]}}),i=h.Page=b.inherit({ctor:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98300,98592],"range":[98285,98592],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":694,"label":"rappidjs"}');if(!b.$options.pageSize&&c!==0)throw"Cannot create page for index '"+c+"' with pageSize '"+b.options.pageSize+"'";var d=b.$options;d.pageSize&&(this.$offset=c*d.pageSize,this.$limit=d.pageSize),this.$pageIndex=c,this.$collection=b,this.callBase(a),this._fetch={callbacks:[],state:g.CREATED}},parse:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98612,98670],"range":[98599,98670],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":695,"label":"rappidjs"}');return this.$collection.parse.call(this.$collection,a,b)},fetch:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98690,99230],"range":[98677,99230],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":703,"label":"rappidjs"}');function f(b,c,e){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[98708,98889],"range":[98691,98889],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":699,"label":"rappidjs"}');var f=function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98728,98741],"range":[98715,98741],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":696,"label":"rappidjs"}');e&&e(b,c,a)};a.fetchModels||a.fetchSubModels?d().parEach(c.$items,function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98808,98854],"range":[98795,98854],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":697,"label":"rappidjs"}');b.fetch({fetchSubModels:a.fetchSubModels},c)}).exec(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98872,98880],"range":[98861,98880],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":698,"label":"rappidjs"}');f(a,c)}):f(b,c)}a=a||{};var c=this;this._fetch.state===g.LOADING?this._fetch.callbacks.push(function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[98978,98988],"range":[98965,98988],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":700,"label":"rappidjs"}');f(a,c,b)}):this._fetch.state==g.LOADED?f(null,this,b):(c._fetch.state=g.LOADING,this.$collection.$context.$datasource.loadCollectionPage(this,a,function(a,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[99136,99227],"range":[99123,99227],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":702,"label":"rappidjs"}');c._fetch.state=a?g.ERROR:g.LOADED,f(a,d,b),e.each(c._fetch.callbacks,function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[99217,99225],"range":[99206,99225],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":701,"label":"rappidjs"}');b(a,d)})}))}});return h.of=function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[99256,99549],"range":[99245,99549],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":704,"label":"rappidjs"}');if(b instanceof Function)return h.inherit(h.prototype.constructor.name+"["+b.prototype.constructor.name+"]",{$modelFactory:b});if(e.isString(b))return h.inherit(h.prototype.constructor.name+"["+b+"]",{$alias:b,$modelFactory:c||a("js/data/Model")});throw"Cannot create Collection of '"+b+"'."},h}),define("js/data/DataSource",["require","js/core/Component","js/core/Base","js/data/Collection","underscore","js/data/Model","js/data/Entity","js/core/List","flow","JSON"],function(a,b,c,d,e,f,g,h,i,j){instrumentation_log('{"type":"FunctionExpression","bodyRange":[99754,106477],"range":[99725,106477],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":762,"label":"rappidjs"}');var k,l=c.inherit("js.data.DataSource.Context",{defaults:{collectionPageSize:null},ctor:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[99858,99943],"range":[99843,99943],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":706,"label":"rappidjs"}');this.callBase(),this.$datasource=a,this.$properties=b,this.$parent=c,this.$cache={}},addEntityToCache:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[99972,100019],"range":[99961,100019],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":707,"label":"rappidjs"}');this.$cache[l.generateCacheIdFromEntity(a)]=a},addCollectionToCache:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[100052,100103],"range":[100041,100103],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":708,"label":"rappidjs"}');this.$cache[l.generateCacheIdFromCollection(a)]=a},getInstanceByCacheId:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[100136,100159],"range":[100125,100159],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":709,"label":"rappidjs"}');return this.$cache[a]},getPathComponents:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[100188,100198],"range":[100178,100198],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":710,"label":"rappidjs"}');return[]},createEntity:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[100227,100596],"range":[100212,100596],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":711,"label":"rappidjs"}');if(e.isFunction(a)){var d=a.prototype.constructor.name;c=c||(a.classof(f)?this.$datasource.getAliasForModelClassName(d):d);if(a.classof(f)&&!c)throw"Alias for '"+d+"' not found";var g;return b&&(g=this.getInstanceByCacheId(l.generateCacheIdForEntity(c,b))),g||(g=new a({id:b}),g.$context=this,g.$alias=c,this.addEntityToCache(g)),g}throw"Factory has to be a function"},createCollection:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[100629,101012],"range":[100614,101012],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":712,"label":"rappidjs"}');b=b||{};if(e.isFunction(a)){var d=a.prototype.constructor.name;c=c||this.$datasource.getAliasForCollectionClassName(d);if(!c)throw"Alias for '"+d+"' not found";e.defaults(b,{factory:a,type:c});var f=this.getInstanceByCacheId(l.generateCacheIdForCollection(c));return f||(f=new a(null,b),f.$context=this,f.$alias=c,this.addCollectionToCache(f)),f}throw"Factory has to be a function"}});l.generateCacheIdForCollection=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101057,101067],"range":[101046,101067],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":713,"label":"rappidjs"}');return a},l.generateCacheIdForEntity=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101108,101124],"range":[101095,101124],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":714,"label":"rappidjs"}');return a+"_"+b},l.generateCacheIdFromEntity=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101164,101216],"range":[101153,101216],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":715,"label":"rappidjs"}');return l.generateCacheIdForEntity(a.$alias,a.$.id)},l.generateCacheIdFromCollection=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101260,101309],"range":[101249,101309],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":716,"label":"rappidjs"}');return l.generateCacheIdForCollection(a.$alias)};var m=c.inherit("js.data.DataSource.Processor",{ctor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101374,101444],"range":[101363,101444],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":717,"label":"rappidjs"}');if(!a)throw"dataSource is required for Processor";this.$datasource=a},compose:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101468,101503],"range":[101453,101503],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":718,"label":"rappidjs"}');return this._composeObject(a,b,c)},_composeObject:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101534,101650],"range":[101519,101650],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":719,"label":"rappidjs"}');var d={};for(var e in a)if(a.hasOwnProperty(e)){var f=this._getCompositionValue(a[e],b,c);f!==k&&(d[e]=f)}return d},_getCompositionValue:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101687,101993],"range":[101672,101993],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":721,"label":"rappidjs"}');if(a instanceof f)return this._composeSubModel(a,b,c);if(a instanceof d)return this._composeCollection(a,b,c);if(a instanceof g)return a.compose(b,c);if(a instanceof h){var e=[],i=this;return a.each(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[101898,101937],"range":[101887,101937],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":720,"label":"rappidjs"}');e.push(i._getCompositionValue(a,b,c))}),e}return a instanceof Object?this._composeObject(a):a},_composeSubModel:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102026,102049],"range":[102011,102049],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":722,"label":"rappidjs"}');return a.compose(b,c)},_composeCollection:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102084,102094],"range":[102069,102094],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":723,"label":"rappidjs"}');return k},parse:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102116,102126],"range":[102101,102126],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":724,"label":"rappidjs"}');return a},saveSubModels:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102156,102161],"range":[102141,102161],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":725,"label":"rappidjs"}');c()},getSubModelsForModel:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102194,102496],"range":[102183,102496],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":728,"label":"rappidjs"}');function c(d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[102208,102471],"range":[102195,102471],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":727,"label":"rappidjs"}');if(d===a)return;if(e.indexOf(b,d)!==-1)return;if(d instanceof f){b.push(d);return}for(var g in d)if(d.hasOwnProperty(g)){var i=d[g];if(i instanceof Array)for(var j=0;j<i.length;j++)c(i[j]);else i instanceof h?i.each(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102436,102442],"range":[102425,102442],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":726,"label":"rappidjs"}');c(a)}):i instanceof Object&&c(i)}}var b=[];return c(a.$),b}}),n=b.inherit("js.data.DataSource",{ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102548,102700],"range":[102538,102700],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":729,"label":"rappidjs"}');this.$configuredTypes=[],this.$contextCache={},this.$formatProcessors=[],this.callBase(),this.initializeFormatProcessors(),this.initializeProcessors()},$processors:{},$modelFactory:f,$entityFactory:g,$collectionFactory:d,$defaultProcessorFactory:m,$defaultProcessor:null,initializeFormatProcessors:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102857,102859],"range":[102847,102859],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":730,"label":"rappidjs"}');},initializeProcessors:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[102891,103113],"range":[102881,103113],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":731,"label":"rappidjs"}');this.$defaultProcessor=new this.$defaultProcessorFactory(this);for(var a in this.$processors)this.$processors.hasOwnProperty(a)&&this.$processors[a]instanceof Function&&(this.$processors[a]=new this.$processors[a](this))},_childrenInitialized:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[103145,103269],"range":[103135,103269],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":732,"label":"rappidjs"}');this.callBase();for(var a=0;a<this.$configurations.length;a++){var b=this.$configurations[a];this.addTypeConfiguration(b)}},getAliasForModelClassName:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[103307,103442],"range":[103296,103442],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":733,"label":"rappidjs"}');for(var b=0;b<this.$configuredTypes.length;b++){var c=this.$configuredTypes[b];if(c.$.modelClassName===a)return c.$.alias}return null},getAliasForCollectionClassName:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[103485,103625],"range":[103474,103625],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":734,"label":"rappidjs"}');for(var b=0;b<this.$configuredTypes.length;b++){var c=this.$configuredTypes[b];if(c.$.collectionClassName===a)return c.$.alias}return null},addTypeConfiguration:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[103658,103909],"range":[103647,103909],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":735,"label":"rappidjs"}');if(!a.$.modelClassName&&!a.$.alias)throw"neither modelClassName nor alias defined";a.$.modelClassName&&!a.$.alias&&(a.$.alias=a.$.modelClassName.split(".").pop()),a.$.modelClassName||(a.$.modelClassName="js.data.Model"),this.$configuredTypes.push(a)},getFqClassName:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[103936,104059],"range":[103925,104059],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":736,"label":"rappidjs"}');for(var b=0;b<this.$configuredTypes.length;b++){var c=this.$configuredTypes[b];if(c.$.alias==a)return c.$.modelClassName}},getContext:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104084,104256],"range":[104071,104256],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":737,"label":"rappidjs"}');var c=this.createContextCacheId(a,b?b.$properties:null);return this.$contextCache.hasOwnProperty(c)||(this.$contextCache[c]=this.createContext(a,b)),this.$contextCache[c]},root:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104272,104298],"range":[104262,104298],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":738,"label":"rappidjs"}');return this.getContext()},createContext:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104326,104350],"range":[104313,104350],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":739,"label":"rappidjs"}');return new l(this,a,b)},createContextCacheId:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104385,104498],"range":[104372,104498],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":741,"label":"rappidjs"}');var c=[];return e.each(e.extend({},b,a),function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104439,104456],"range":[104426,104456],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":740,"label":"rappidjs"}');c.push(b+"="+a)}),c.sort(),c.length==0?"root":c.join("&")},createEntity:function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104529,104582],"range":[104512,104582],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":742,"label":"rappidjs"}');return d=d||this.getContext(),d.createEntity(a,b,c)},createCollection:function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104617,104674],"range":[104600,104674],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":743,"label":"rappidjs"}');return d=d||this.getContext(),d.createCollection(a,b,c)},resolveReferences:function(a,b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104710,104737],"range":[104693,104737],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":744,"label":"rappidjs"}');d&&d("Abstract method",b)},loadModel:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104763,104790],"range":[104748,104790],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":745,"label":"rappidjs"}');c&&c("Abstract method",a)},loadCollectionPage:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104825,104870],"range":[104810,104870],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":746,"label":"rappidjs"}');c&&c("Abstact method loadCollectionPage",a)},saveModel:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104896,104933],"range":[104881,104933],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":747,"label":"rappidjs"}');c&&c("Abstract method saveModel",a)},removeModel:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[104961,105000],"range":[104946,105000],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":748,"label":"rappidjs"}');c&&c("Abstract method removeModel",a)},getConfigurationForModelClass:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105042,105169],"range":[105031,105169],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":749,"label":"rappidjs"}');for(var b=0;b<this.$configuredTypes.length;b++){var c=this.$configuredTypes[b];if(c.$.modelClassName===a)return c}return null},getConfigurationByAlias:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105205,105323],"range":[105194,105323],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":750,"label":"rappidjs"}');for(var b=0;b<this.$configuredTypes.length;b++){var c=this.$configuredTypes[b];if(c.$.alias===a)return c}return null},getProcessorForModel:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105358,105703],"range":[105345,105703],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":751,"label":"rappidjs"}');if(a){var c;a.constructor===this.$modelFactory?c=this.getConfigurationByAlias(a.$alias):c=this.getConfigurationForModelClass(a.$modelClassName);if(c&&c.$.processor){var d=c.$.processor;if(this.$processors[d])return this.$processors[d];throw"Processor for '"+d+"' not an instance of js.data.DataSource.Processor."}}return this.$defaultProcessor},getFormatProcessor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105734,105768],"range":[105723,105768],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":752,"label":"rappidjs"}');return this.$formatProcessors[0]},update:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105789,105791],"range":[105776,105791],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":753,"label":"rappidjs"}');},find:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105810,105812],"range":[105797,105812],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":754,"label":"rappidjs"}');}});return n.FormatProcessor=c.inherit("js.data.DataSource.FormatProcessor",{serialize:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105909,105933],"range":[105898,105933],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":755,"label":"rappidjs"}');throw"abstract method"},deserialize:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[105957,105981],"range":[105946,105981],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":756,"label":"rappidjs"}');throw"abstract method"}}),n.JsonFormatProcessor=n.FormatProcessor.inherit("js.data.DataSource.JsonFormatProcessor",{serialize:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106095,106118],"range":[106084,106118],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":757,"label":"rappidjs"}');return j.stringify(a)},deserialize:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106142,106161],"range":[106131,106161],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":758,"label":"rappidjs"}');return j.parse(a)}}),n.Context=l,n.Processor=m,n.ACTION={LOAD:"load",CREATE:"create",UPDATE:"update",DELETE:"delete"},n.IdGenerator={genId:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106295,106387],"range":[106282,106387],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":760,"label":"rappidjs"}');return function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106313,106386],"range":[106303,106386],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":759,"label":"rappidjs"}');return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106407,106472],"range":[106396,106472],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":761,"label":"rappidjs"}');var b=Math.random()*16|0,c=a=="x"?b:b&3|8;return c.toString(16)})},n}),define("js/data/LocalStorageDataSource",["js/data/DataSource","js/data/Model","flow"],function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106580,109053],"range":[106565,109053],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":781,"label":"rappidjs"}');var d=new a.JsonFormatProcessor;return a.inherit("js.data.LocalStorageDataSource",{defaults:{name:"default"},ctor:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106705,106906],"range":[106695,106906],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":763,"label":"rappidjs"}');this.callBase(),this.$storage=this._getStorage();if(!this.$storage)throw"Storage not available";var a=this.$storage.getItem(this.$.name);this.$data=a&&this.getFormatProcessor(null).deserialize(a)||{}},getFormatProcessor:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106937,106947],"range":[106926,106947],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":764,"label":"rappidjs"}');return d},getPathComponentsForModel:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[106985,107071],"range":[106974,107071],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":765,"label":"rappidjs"}');if(a){var b=this.getConfigurationByAlias(a.$alias);if(b)return[b.$.path]}return null},getPathForAlias:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[107099,107223],"range":[107088,107223],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":766,"label":"rappidjs"}');var b,c;for(c=0;c<this.$configuredTypes.length;c++){b=this.$configuredTypes[c];if(b.$.alias==a)return b.$.path}return null},_getStorage:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[107246,107327],"range":[107236,107327],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":767,"label":"rappidjs"}');return typeof window!="undefined"&&window.localStorage?window.localStorage:null},_getCollectionData:function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[107360,107500],"range":[107347,107500],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":768,"label":"rappidjs"}');if(!a){callback("path for model unknown",null,options);return}var c=[];return b&&(c=c.concat(b)),c=c.concat(a),this.$data[c.join(":")]||{}},loadCollectionPage:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[107535,107832],"range":[107520,107832],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":770,"label":"rappidjs"}');c=c||function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[107551,107553],"range":[107541,107553],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":769,"label":"rappidjs"}');};var d=a.$collection.$options.path?a.$collection.$options.path:this.getPathForAlias(a.$collection.$alias),e=a.$collection.$context.getPathComponents(),f=[],g=this._getCollectionData(d,e);for(var h in g)g.hasOwnProperty(h)&&f.push(this.$data[h]);f=a.parse(f),a.add(f),c(null,a,b)},saveModel:function(d,e,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[107858,108475],"range":[107843,108475],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":775,"label":"rappidjs"}');f=f||function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[107874,107876],"range":[107864,107876],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":771,"label":"rappidjs"}');};var g=a.ACTION.UPDATE;d._status()===b.STATE.NEW&&(g=a.ACTION.CREATE);var h=this.getProcessorForModel(d,e),i=this.getFormatProcessor(g),j=this;c().seq(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108038,108062],"range":[108027,108062],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":772,"label":"rappidjs"}');h.saveSubModels(d,e,a)}).seq(function(c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108079,108445],"range":[108068,108445],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":773,"label":"rappidjs"}');var f=d.compose(g,e);d._status()===b.STATE.NEW&&(f.id=a.IdGenerator.genId()),j.$data[f.id]=f;if(g===a.ACTION.CREATE){var h=j.getPathComponentsForModel(d);if(!h){c("path for model unknown");return}var i=[];i=i.concat(d.$context.getPathComponents()),i=i.concat(h);var k=j.$data[i.join(":")]||{};k[f.id]=!0,j.$data[i.join(":")]=k}j._saveStorage(),d.set("id",f.id),c()}).exec(function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108463,108473],"range":[108452,108473],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":774,"label":"rappidjs"}');f(a,d,e)})},loadModel:function(b,c,d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108501,108702],"range":[108486,108702],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":777,"label":"rappidjs"}');d=d||function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108517,108519],"range":[108507,108519],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":776,"label":"rappidjs"}');};var e=this.getFormatProcessor(a.ACTION.LOAD),f;if(!b.$.id){d("Model has no id");return}f=this.$data[b.$.id];if(!f){d("Could not find model");return}f=b.parse(f),b.set(f),d(null,b,c)},removeModel:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108730,108938],"range":[108715,108938],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":779,"label":"rappidjs"}');c=c||function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108746,108748],"range":[108736,108748],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":778,"label":"rappidjs"}');};var d;if(!a.$.id){c("Model has no id");return}delete this.$data[a.$.id];var e=this._getCollectionData(this.getPathComponentsForModel(a));e&&delete e[a.$.id],this._saveStorage(),c(null,a,b)},_saveStorage:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[108962,109050],"range":[108952,109050],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":780,"label":"rappidjs"}');this.$storage.setItem(this.$.name,this.getFormatProcessor(null).serialize(this.$data))}})}),define("js/html/a",["js/html/HtmlElement"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[109109,109545],"range":[109098,109545],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":784,"label":"rappidjs"}');var b=/^(([^:]+:\/\/)|(javascript:))/i,c=/^#/,d=/^#?(.*)$/;return a.inherit("js.html.a",{defaults:{tagName:"a",target:null,href:null},_renderHref:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[109267,109462],"range":[109256,109462],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":782,"label":"rappidjs"}');a=a||"javascript:void(0);",this.$.target!=="external"&&!b.test(a)&&this.$.target!=="_blank"&&(c.test(a)||(a="#"+a),this.runsInBrowser()||(a=a.replace(d,"#!$1"))),this.$el.setAttribute("href",a)},_renderTarget:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[109488,109542],"range":[109477,109542],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":783,"label":"rappidjs"}');a&&a!=="external"&&this.$el.setAttribute("target",a)}})}),function(a,b,c,d,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[109566,114576],"range":[109547,114576],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":816,"label":"rappidjs"}');function n(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[109580,109622],"range":[109567,109622],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":786,"label":"rappidjs"}');function b(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[109593,109595],"range":[109581,109595],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":785,"label":"rappidjs"}');}return b.prototype=a,new b}String.prototype.trim||(String.prototype.trim=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[109678,109716],"range":[109668,109716],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":787,"label":"rappidjs"}');return this.replace(/^\s+|\s+$/g,"")});var f;Function.prototype.async=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[109759,109787],"range":[109749,109787],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":788,"label":"rappidjs"}');return this._async=!0,this};var g=/^(xaml!)?(.+?)(\.xml)?$/,h=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[109835,109860],"range":[109822,109860],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":789,"label":"rappidjs"}');this.$from=a,this.$to=b},i={"http://www.w3.org/1999/xhtml":"js.html","http://www.w3.org/2000/svg":"js.svg"},j=[new h(/^js\/html\/(a)$/,"js/html/a"),new h(/^js\/html\/(input)$/,"js/html/Input"),new h(/^js\/html\/(select)$/,"js/html/Select"),new h(/^js\/html\/(textarea)$/,"js/html/TextArea"),new h(/^js\/html\/(option)$/,"js/html/Option"),new h(/^js\/html\/(.+)$/,"js/html/HtmlElement"),new h(/^js\/svg\/svg$/,"js/svg/Svg"),new h(/^js\/svg\/(.+)$/,"js/svg/SvgElement")];typeof JSON!="undefined"?c("JSON",[],function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110352,110365],"range":[110342,110365],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":790,"label":"rappidjs"}');return JSON}):b.config({paths:{JSON:"js/lib/json2"},shim:{JSON:{exports:"JSON"}}}),b.config({paths:{json:"js/plugins/json"}});var k={createApplicationContext:function(a,d,e){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110526,111107],"range":[110511,111107],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":798,"label":"rappidjs"}');d=d||{};var h=function(d){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110552,111015],"range":[110541,111015],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":796,"label":"rappidjs"}');d.xamlClasses=d.xamlClasses||[],d.namespaceMap=d.namespaceMap||i,d.rewriteMap=d.rewriteMap||j;var h=b.config(d),k=new p(h,d);c("rAppid",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110699,110709],"range":[110689,110709],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":791,"label":"rappidjs"}');return k}),typeof JSON!="undefined"&&c("JSON",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110756,110769],"range":[110746,110769],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":792,"label":"rappidjs"}');return JSON}),h(["inherit","underscore"],function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110811,111013],"range":[110798,111013],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":795,"label":"rappidjs"}');f=c;if(b&&c)if(a){var d=g.exec(a);d?a="xaml!"+d[2]:a=a.replace(/\./g,"/"),h([a],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110903,110938],"range":[110892,110938],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":793,"label":"rappidjs"}');k.$applicationFactory=a,e(null,k)},function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[110950,110956],"range":[110939,110956],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":794,"label":"rappidjs"}');e(a)})}else e(null,k);else e("inherit or underscore missing")})};Object.prototype.toString.call(d)=="[object String]"?b(["json!"+d],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[111094,111100],"range":[111083,111100],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":797,"label":"rappidjs"}');h(a)}):h(d)},bootStrap:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[111133,111252],"range":[111118,111252],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":800,"label":"rappidjs"}');k.createApplicationContext(a,b,function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[111178,111250],"range":[111165,111250],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":799,"label":"rappidjs"}');a||!d?c(a||"target document missing"):b.createApplicationInstance(d,c)})},rewriteMapEntry:h,createQueryString:function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[111300,111424],"range":[111289,111424],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":801,"label":"rappidjs"}');var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},ajax:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[111445,112218],"range":[111430,112218],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":803,"label":"rappidjs"}');var d={url:a};f.extend(d,k.ajaxSettings,b);if(d.data&&!f.isString(d.data))throw"data must be a string";d.hasContent=!/^(?:GET|HEAD)$/.test(d.type),d.queryParameter&&f.keys(d.queryParameter).length>0&&(d.url+=/\?/.test(d.url)?"&":"?"+this.createQueryString(d.queryParameter));var e=d.xhr();e.open(d.type,d.url,d.async),d.hasContent&&d.contentType!==!1&&(e.setRequestHeader("Content-Type",d.contentType),e.setRequestHeader("Content-Length",d.data?d.data.length.toString():"0"));try{for(var g in d.headers)d.headers.hasOwnProperty(g)&&e.setRequestHeader(g,d.headers[g])}catch(h){}e.send(d.data);var i=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[112057,112155],"range":[112044,112155],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":802,"label":"rappidjs"}');var d;i&&(b||e.readyState===4)&&(i=undefined,b?e.readyState!==4&&e.abort():d=new m(e),c&&c(b,d))};return!d.async||e.readyState===4?i():e.onreadystatechange=i,e}},l=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,m=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[112267,112534],"range":[112256,112534],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":804,"label":"rappidjs"}');this.xhr=a,this.status=a.status,this.$nativeResponseHeaders=a.getAllResponseHeaders(),this.responses={};var b=a.responseXML;b&&b.documentElement&&(this.responses.xml=b),this.responses.text=a.responseText;try{this.statusText=a.statusText}catch(c){this.statusText=""}};m.prototype.getResponseHeader=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[112576,112772],"range":[112565,112772],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":805,"label":"rappidjs"}');var b;if(!this.$responseHeaders){this.$responseHeaders={};while(b=l.exec(this.$nativeResponseHeaders))this.$responseHeaders[b[1].toLowerCase()]=b[2]}return this.$responseHeaders[a.toLowerCase()]},k.ajaxSettings={type:"GET",contentType:"application/x-www-form-urlencoded",async:!0,xhr:function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[112871,112885],"range":[112861,112885],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":806,"label":"rappidjs"}');return new e},headers:{},data:null};var o=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[112929,113029],"range":[112914,113029],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":807,"label":"rappidjs"}');this.$requirejsContext=a,this.$applicationContext=b,this.$applicationFactory=null,this.$document=c},p=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[113045,113106],"range":[113032,113106],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":808,"label":"rappidjs"}');o.call(this,a),this.$config=b,this.$applicationContext=this};p.prototype=n(o.prototype),p.prototype.constructor=p,p.prototype.createApplicationInstance=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[113211,113532],"range":[113198,113532],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":810,"label":"rappidjs"}');var c=this.$applicationFactory,d=new o(this.$requirejsContext,this,a);this.$requirejsContext(["js/core/Application"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[113340,113530],"range":[113329,113530],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":809,"label":"rappidjs"}');var e=new c(null,!1,d,null,null);if(e instanceof a)d.$application=e,e._initialize("auto"),b&&b(null,d,e);else{var f="mainClass isn't an instance of js.core.Application";if(!b)throw f;b(f)}})},p.prototype.getFqClassName=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[113575,113963],"range":[113560,113963],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":811,"label":"rappidjs"}');if(c==undefined||c==null)c=!0;if(a&&b){a=(this.$config.namespaceMap[a]||a).replace(/\./g,"/");var d=[a,b].join("/")}else d=(a||b).replace(/\./g,"/");f.indexOf(this.$config.xamlClasses,d)!==-1&&(d="xaml!"+d);if(c)for(var e=0;e<this.$config.rewriteMap.length;e++){var g=this.$config.rewriteMap[e];if(g instanceof k.rewriteMapEntry&&g.$from.test(d))return d.replace(g.$from,g.$to)}return d},p.prototype.createInstance=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[114006,114329],"range":[113991,114329],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":814,"label":"rappidjs"}');function e(a,b){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[114022,114096],"range":[114007,114096],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":813,"label":"rappidjs"}');function c(){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[114035,114059],"range":[114023,114059],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":812,"label":"rappidjs"}');return a.apply(this,b)}return c.prototype=a.prototype,new c}b=b||[];var d;a instanceof Function?(d=a,a=d.prototype.constructor.name):(a=a.replace(/\./g,"/"),d=this.$requirejsContext(a)),c=c||a;var f;try{f=e(d,b),f.className=c}catch(g){console.log("Cannot create instance of '"+a+"'")}return f},p.prototype.ajax=function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[114362,114465],"range":[114347,114465],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":815,"label":"rappidjs"}');!/^http.*$/.test(a)&&this.$config.applicationUrl&&(a=this.$config.applicationUrl+"/"+a),k.ajax(a,b,c)},k.defaultNamespaceMap=i,k.defaultRewriteMap=j,k.SystemManager=o,k.ApplicationContext=p,k.Rewrite=h,a.rAppid=k}(typeof exports!="undefined"?exports:window,typeof requirejs!="undefined"?requirejs:require("requirejs"),typeof requirejs!="undefined"?define:require("requirejs").define,typeof window!="undefined"?window.document:null,typeof window!="undefined"?window.XMLHttpRequest:require("xmlhttprequest").XMLHttpRequest),define("js/lib/rAppid",function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[114918,114920],"range":[114908,114920],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":817,"label":"rappidjs"}');}),define("xaml",[],function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[114949,119213],"range":[114939,119213],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":838,"label":"rappidjs"}');function h(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[114963,114983],"range":[114950,114983],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":818,"label":"rappidjs"}');return/\S/.test(a)}function i(a,b,c,d,e){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[115004,115252],"range":[114983,115252],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":819,"label":"rappidjs"}');c=c||{},e=e||{},d=d||[],a=(c[a]||a).replace(/\./g,"/");var f=[a,b].join("/");for(var g=0;g<e.length;g++){var h=e[g];if(h.$from&&h.$to&&h.$from.test(f)){f=f.replace(h.$from,h.$to);break}}return d.indexOf(f)!==-1&&(f="xaml!"+f),f.replace(/\./g,"/")}function j(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[115265,115458],"range":[115252,115458],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":820,"label":"rappidjs"}');var b=a.textContent||a.text||a.data;if(!b){b="";for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];if(d.nodeType==1||d.nodeType==4)b+=this._getTextContentFromDescriptor(d)}}return b}function k(a,b,c,d,e){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[115479,115908],"range":[115458,115908],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":822,"label":"rappidjs"}');function k(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[115493,115882],"range":[115480,115882],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":821,"label":"rappidjs"}');var l=g(a),m=i(a.namespaceURI,l,b,c,d);if(m=="js/core/Imports")for(var n=0;n<a.childNodes.length;n++){var o=a.childNodes[n];if(o.nodeType==3){var p,q=j(o);while((p=f.exec(q+" "))!=null){var r=p[0].replace(/\./g,"/");r!=="undefined"&&(h.indexOf(r)==-1&&h.push(r),e&&e.push(r))}}}h.indexOf(m)==-1&&h.push(m);for(var s=0;s<a.childNodes.length;s++){var t=a.childNodes[s];t.nodeType==1&&k(t)}}var h=[];return a&&k(a),h}function l(a,b,c,d){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[115927,116080],"range":[115908,116080],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":823,"label":"rappidjs"}');var e=[];for(var f=0;f<a.childNodes.length;f++){var h=a.childNodes[f];h.nodeType==1&&"js/core/Script"==i(h.namespaceURI,g(h),b,c,d)&&e.push(h)}return e}function m(a){instrumentation_log('{"type":"FunctionDeclaration","bodyRange":[116093,116204],"range":[116080,116204],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":824,"label":"rappidjs"}');var b={};if(a)for(var c=0;c<a.length;c++){var d=a[c];for(var e in d)d.hasOwnProperty(e)&&(b[e]=d[e])}return b}var a,b,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],d=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[116289,116334],"range":[116276,116334],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":825,"label":"rappidjs"}');throw new Error("Environment unsupported.")},e={},f=/((?:xaml!)?[a-z]+(\.[a-z]+[a-z0-9]*)*)/mgi;Array.prototype.indexOf||(Array.prototype.indexOf=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[116447,116510],"range":[116436,116510],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":826,"label":"rappidjs"}');for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1});var g=function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[116529,116612],"range":[116518,116612],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":827,"label":"rappidjs"}');if(a.localName)return a.localName;var b=a.tagName.split(":");return b[b.length-1]};return typeof window!="undefined"&&window.navigator&&window.document||typeof importScripts!="undefined"?(b=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[116730,116958],"range":[116720,116958],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":828,"label":"rappidjs"}');var a,b,d;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(b=0;b<3;b++){d=c[b];try{a=new ActiveXObject(d)}catch(e){}if(a){c=[d];break}}if(!a)throw new Error("getXhr(): XMLHttpRequest not available");return a},d=function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[116974,117153],"range":[116961,117153],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":830,"label":"rappidjs"}');var d;try{d=b(),d.open("GET",a,!0),d.onreadystatechange=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[117041,117124],"range":[117031,117124],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":829,"label":"rappidjs"}');d.readyState===4&&(d.responseXML?c(null,d.responseXML):c("no responseXML found"))},d.send(null)}catch(e){c(e)}}):typeof process!="undefined"&&process.versions&&!!process.versions.node&&(a=require.nodeRequire("fs"),d=function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[117271,117379],"range":[117258,117379],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":831,"label":"rappidjs"}');try{var d=a.readFileSync(b,"utf8");c(null,require.nodeRequire("libxml").parseFromString(d))}catch(e){c(e)}}),{write:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[117403,117449],"range":[117388,117449],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":832,"label":"rappidjs"}');if(b in e){var d=e[b];c.asModule(a+"!"+b,d)}},version:"0.2.0",load:function(a,b,c,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[117488,119211],"range":[117471,119211],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":837,"label":"rappidjs"}');var g=b.toUrl(a+".xml");d(g,function(d,i){instrumentation_log('{"type":"FunctionExpression","bodyRange":[117530,119209],"range":[117517,119209],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":836,"label":"rappidjs"}');if(!d&&i){var j=[],n=1,o=k(i.documentElement,f.namespaceMap,f.xamlClasses,f.rewriteMap,j),p=l(i.documentElement,f.namespaceMap,f.xamlClasses,f.rewriteMap);if(p.length>1)throw"only one script block allowed in XAML";p.length>0&&(o.splice(1,0,"js/core/Script"),n++),j.length>0&&(o=o.slice(0,n).concat(j).concat(o.slice(n)));if(f.isBuild){o.splice(1,0,"js/core/Element"),n++;var q="(function () {define(%dependencies%, %function%)}).call(this);",r="function(baseClass, ELEMENT %parameter%){return baseClass.inherit({ %classDefinition% _$descriptor: ELEMENT.xmlStringToDom(%descriptor%)})}";for(var s=0;s<o.length;s++)o[s]="'"+o[s]+"'";q=q.replace("%dependencies%","["+o.join(",")+"]");var t=i.documentElement.toString().replace(/((\r\n|\n|\r)[\s\t]*)/gm,"").replace(/'/g,"\\'").replace(/<js:Script[^>]*>[\s\S]*<\/js:Script[^>]*>/,""),u="",v="";if(p.length>0){var w=p[0].toString(),x=/^[\s\S]*?function\s*\(([\s\S]*?)\)[\s\S]*?\{[\s\S]*?return[\s\S]*?\{([\s\S]*)\}[\s\S]*?\}[\s\S]*?\)[^)]*$/,y=x.exec(w);if(!y)throw"Error parsing script block";h(y[1])&&(u=",SCRIPT,"+y[1]),h(y[2])&&(v=y[2]+",")}r=r.replace("%parameter%",u),r=r.replace("%classDefinition%",v),r=r.replace("%descriptor%","'"+t+"'"),q=q.replace("%function%",r),c.fromText(a,q),e[a]=q,b([a],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[118791,118797],"range":[118780,118797],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":833,"label":"rappidjs"}');c(a)})}else b(o,function(b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[118819,119133],"range":[118808,119133],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":834,"label":"rappidjs"}');var d=arguments[0],e=arguments[1],f=Array.prototype.slice.call(arguments),g=[],h=f.slice(n);if(p.length>0)for(var j=0;j<p.length;j++)try{var k=new e(null,p[j]);g.push(k.evaluate(h))}catch(l){c.error(new Error(a+": Script cannot be loaded"+l))}var o=d.inherit(m(g));o.prototype._$descriptor=i.documentElement,c(o)},function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[119145,119157],"range":[119134,119157],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":835,"label":"rappidjs"}');c.error(a)})}else c.error(new Error("XML "+g+" not found."+d))})}}}),define("json",["JSON"],function(a){instrumentation_log('{"type":"FunctionExpression","bodyRange":[119249,120368],"range":[119238,120368],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":847,"label":"rappidjs"}');var b,c,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[119335,119380],"range":[119322,119380],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":839,"label":"rappidjs"}');throw new Error("Environment unsupported.")},f={},g=/^(.+)\.json$/i;return typeof window!="undefined"&&window.navigator&&window.document||typeof importScripts!="undefined"?(c=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[119521,119749],"range":[119511,119749],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":840,"label":"rappidjs"}');var a,b,c;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(b=0;b<3;b++){c=d[b];try{a=new ActiveXObject(c)}catch(e){}if(a){d=[c];break}}if(!a)throw new Error("getXhr(): XMLHttpRequest not available");return a},e=function(a,b){instrumentation_log('{"type":"FunctionExpression","bodyRange":[119765,119946],"range":[119752,119946],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":842,"label":"rappidjs"}');var d;try{d=c(),d.open("GET",a,!0),d.onreadystatechange=function(){instrumentation_log('{"type":"FunctionExpression","bodyRange":[119832,119917],"range":[119822,119917],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":841,"label":"rappidjs"}');d.readyState===4&&(d.responseText?b(null,d.responseText):b("no responseXML found"))},d.send(null)}catch(e){b(e)}}):typeof process!="undefined"&&process.versions&&!!process.versions.node&&(b=require.nodeRequire("fs"),e=function(a,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[120064,120125],"range":[120051,120125],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":843,"label":"rappidjs"}');try{var d=b.readFileSync(a,"utf8");c(null,d)}catch(e){c(e)}}),{write:function(a,b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[120149,120195],"range":[120134,120195],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":844,"label":"rappidjs"}');if(b in f){var d=f[b];c.asModule(a+"!"+b,d)}},version:"0.1.0",load:function(b,c,d,f){instrumentation_log('{"type":"FunctionExpression","bodyRange":[120234,120366],"range":[120217,120366],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":846,"label":"rappidjs"}');b=b.replace(g,"$1"),b+=".json";var h=c.toUrl(b);e(h,function(b,c){instrumentation_log('{"type":"FunctionExpression","bodyRange":[120300,120364],"range":[120287,120364],"file":"todomvc/examples.lacunized.instrumented/rappidjs/app/lib/rappidjs.min.js","index":845,"label":"rappidjs"}');b?d.error(new Error("Json for "+h+" not found")):d(a.parse(c))})}}})
